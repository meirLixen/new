{"version":3,"sources":["logo.svg","redux/actions/funnel.action.js","components/editPage/editPage.js","components/editSection/editSection.js","ItemTypes.js","components/elementsEditButtons/elementEditButtons.js","components/image/image.js","components/element/element.js","components/editHtmlElement/editHtmlElement.js","components/editVideo/editVideo.js","components/editImage/editImg.js","components/editForm/editForm.js","components/editButton/editbutton.js","components/editElement/editElement.js","components/configurator/configurator.js","assets/thumbtack.svg","components/top_frame/top_frame.js","assets/leader_logo.png","components/sidebar_left/sidebar_left.js","components/widget/widget.js","components/menu/menu.js","components/loading/loading.js","components/part/part.js","components/section/section.js","components/stage/stage.js","components/itemIInAllFunnels/itemInAllFunnels.js","components/allFunnels/allFunnels.js","App.js","reportWebVitals.js","redux/reducers/user.reducer.js","redux/reducers/funnel.reducer.js","redux/store.js","redux/middleware/crud.js","index.js"],"names":["SET_IS_OPEN_CON","SET_THUMBTACK","ADD_SECTION","SET_BORDER_PARTS","ADD_ELEMENT","SET_VALUE_ELEMENT","MOVE_ELEMENT_IN_PART","REMOVE_SECTION","REMOVE_ELEMENT","ELEMENT_IN_EDITING","SET_COLLAPSE_OPEN","CHANGE_EDIT_MODE","SET_JSON_PAGE","SET_STYLE_PAGE","SET_OPACITY_PAGE","setValueElement","nv","type","payload","removeElement","index","elementInEditing","id","setCollapseOpen","collapse","chageEditMode","nf","setStyleImage","ob","connect","state","stylePage","funnel","jsonPage","settings","style","opacityfromJson","opacity","namePage","name","dispatch","setStylePage","property","newValue","value","setOpacityPage","setNamePage","newName","props","useState","backgroundImage","image","setImage","SetBgColor","useEffect","rgba","r","toString","g","b","a","Math","round","length","console","log","RGBAToHexA","backgroundColor","handleFiles","files","file","indexOf","myFile","FormData","append","get","$","Authorization","data","url","err","alert","headers","processData","contentType","success","error","ajax","changeDir","dir","className","data-toggle","data-target","aria-expanded","aria-controls","aria-labelledby","data-parent","for","data-placement","placeholder","onChange","e","target","class","onClick","defaultValue","hex","replace","parseInt","substring","setColor","min","max","step","display","Array","from","chooseImg","trigger","height","backgroundSize","indexSectionInEditing","arrSections","setStyleSection","indexSection","sectionInEditing","ItemTypes","undefined","user","useRef","element","setFile","validateFile","URL","createObjectURL","userId","userName","kk","val","onDragOver","preventDefault","onDragEnter","onDragLeave","onDrop","dataTransfer","src","alt","fontSize","editMode","moveElementInPart","dragIndex","hoverIndex","currentKey","section","part","Quill","ReactQuill","Font","import","whitelist","register","ref","useDrop","accept","hover","item","monitor","current","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","getItem","drop","useDrag","collect","isDragging","drag","setValue","onEnterElement","zIndex","onFocus","readOnly","bounds","theme","modules","toolbar","frameborder","allow","allowfullscreen","width","dangerouslySetInnerHTML","__html","href","thisElement","rows","videoOnEdit","styleImage","ImgOnEdit","nameUser","formOnEdit","color","setHrefButton","withRouter","collapseIsOpen","flagCon","isOpenConfigurator","idPage","idFunnel","nameFunnel","urlPage","funnelName","creatFunnel","getAllFunnel","updateFunnel","removeFunnel","setFlagAllFunnnels","uploadFile","save","history","saveOrUpdatefunnel","eventRegristration","document","querySelector","html2canvas","then","canvas","imgData","toDataURL","funnelImage","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","window","location","pathname","includes","push","xmlns","viewBox","d","transform","render","localStorage","setItem","JSON","stringify","open","background","thumbtack","changeFlagConfigurator","newFlag","changeFlagThumbtack","setFlagthumbtack","getJson","Sidebar_left","numElement","num_elements","addElement","newElement","setIndexSection","indexPart","setIndexPart","changePosition","setChangePosition","setName","Title","Text","Image","Video","Forms","Html","Button","valueWidget","end","dropResult","getDropResult","icon","flagBorderParts","borderPart","numSections","num_sections","addSectioOnClick","newSection","addSection","changeFlagBorderPart","setFlagBorderParts","clickAddSection","numParts","arrParts","i","arrElements","tagWidget","size","flagBorder","isOver","canDrop","map","removeSection","loading","setJsonPage","json","edit","setOrderSection","newI","oldI","new_index","old_index","flag","setFlag","parse","section-id","data-id","image_funnel","bgImg","allFunnels","flagAllFunnels","isOpenAllFunnels","getUid","getFunnel","DndProvider","backend","HTML5Backend","path","minHeight","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","produce","action","c","splice","editinigElement","find","x","k","reducer","combineReducers","userReducer","funnelReducer","store","createStore","composeWithDevTools","applyMiddleware","getState","next","_id","responseText","message","result","newUid","uid","Promise","resolve","reject","fil","res","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.44ed9681.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import { connect } from \"react-redux\"\r\n\r\nexport const SET_IS_OPEN_CON='[funnel] SET_IS_OPEN_CON'\r\nexport const SET_THUMBTACK ='[funnel] SET_THUMBTACK'\r\nexport const ADD_SECTION ='[funnel] ADD_SECTION'\r\nexport const SET_BORDER_PARTS='[funnel] SET_BORDER_PARTS'\r\nexport const ADD_ELEMENT='[funnel] ADD_ELEMENT'\r\nexport const SET_VALUE_ELEMENT='[funnel] SET_VALUE_ELEMENt'\r\nexport const MOVE_ELEMENT_IN_PART='[funnel] MOVE_ELEMENT_IN_PART'\r\nexport const REMOVE_SECTION ='[funnel] REMOVE_SECTION'\r\nexport const REMOVE_ELEMENT ='[funnel] REMOVE_ELEMENT'\r\nexport const ELEMENT_IN_EDITING ='[funnel] ELEMENT_IN_EDITING'\r\nexport const SET_COLLAPSE_OPEN ='[funnel] SET_COLLAPSE_OPEN'\r\nexport const UPLOAD_IMAGE ='[funnel] UPLOAD_IMAGE'\r\nexport const CHANGE_EDIT_MODE='[funnel] CHANGE_EDIT_MODE'\r\nexport const SET_JSON_PAGE='[funnel] SET_JSON_PAGE'\r\nexport const SET_STYLE_PAGE='[funnel] SET_STYLE_PAGE'\r\nexport const SET_OPACITY_PAGE='[funnel] SET_OPACITY_PAGE'\r\nexport const CREAT_FUNNEL='[funnel] CREAT_FUNNEL'\r\nexport const GET_ALL_FUNNELS='[funnel] GET_ALL_FUNNELS'\r\nexport const SET_STYLE_IMAGE='[funnel] SET_STYLE_IMAGE'\r\nexport const CHANE_LOADING ='[funnel] CHANE_LOADING'\r\n\r\n\r\nexport function setFlagToggleCon(newFlag) {\r\n    return {\r\n        type: SET_IS_OPEN_CON,\r\n        payload: newFlag\r\n    }\r\n}\r\nexport function setFlagthumbtack(newFlag) {\r\n    return {\r\n        type: '[funnel] SET_THUMBTACK',\r\n        payload: newFlag\r\n    }\r\n}\r\nexport function addSection(newSection) {\r\n    return {\r\n        type: ADD_SECTION,\r\n        payload: newSection\r\n    }\r\n}\r\nexport function setFlagBorderParts(newFlag) {\r\n    return {\r\n        type: SET_BORDER_PARTS,\r\n        payload: newFlag\r\n    }\r\n}\r\nexport function addElement(newElement) {\r\n    return {\r\n        type: ADD_ELEMENT,\r\n        payload: newElement\r\n    }\r\n}\r\nexport function setValueElement(nv) {\r\n    return {\r\n        type: SET_VALUE_ELEMENT,\r\n        payload: nv\r\n    }\r\n}\r\nexport function moveElementInPart(ob) {\r\n    return {\r\n        type: MOVE_ELEMENT_IN_PART,\r\n        payload: ob\r\n    }\r\n}\r\nexport function removeSection(index) {\r\n    return {\r\n        type: REMOVE_SECTION,\r\n        payload: index\r\n    }\r\n}\r\nexport function removeElement(index) {\r\n    return {\r\n        type: REMOVE_ELEMENT,\r\n        payload: index\r\n    }\r\n}\r\nexport function elementInEditing(id) {\r\n    return {\r\n        type: ELEMENT_IN_EDITING,\r\n        payload: id\r\n    }\r\n}\r\nexport function sectionInEditing(indexSection) {\r\n    return {\r\n        type: '[funnel] SECTION_IN_EDITING',\r\n        payload: indexSection\r\n    }\r\n}\r\nexport function setStyleSection(o) {\r\n    return {\r\n        type: '[funnel] SET_STYLE_SECTION',\r\n        payload: o\r\n    }\r\n}\r\nexport function setCollapseOpen(collapse, id) {\r\n    return {\r\n        type: SET_COLLAPSE_OPEN,\r\n        collapse: collapse,\r\n        id: id\r\n    }\r\n}\r\n\r\nexport function getJson() {\r\n    return {\r\n        type: 'GET_JSON'\r\n    }\r\n}\r\nexport function uploadImage(file) {\r\n    return {\r\n        type: UPLOAD_IMAGE,\r\n        payload: file\r\n    }\r\n}\r\nexport function chageEditMode(nf) {\r\n    return {\r\n        type: CHANGE_EDIT_MODE,\r\n        payload: nf\r\n    }\r\n}\r\nexport function setJsonPage(json) {\r\n    return {\r\n        type: SET_JSON_PAGE,\r\n        payload: json\r\n    }\r\n}\r\n\r\nexport function setStylePage(obj) {\r\n    return {\r\n        type: SET_STYLE_PAGE,\r\n        payload: obj\r\n    }\r\n}\r\nexport function setOpacityPage(value) {\r\n    return {\r\n        type: SET_OPACITY_PAGE,\r\n        payload: value\r\n    }\r\n}\r\nexport function creatFunnel() {\r\n    return {\r\n        type: CREAT_FUNNEL,\r\n    }\r\n}\r\nexport function updateFunnel() {\r\n    return {\r\n        type: '[funnel] UPDATE_FUNNEL',\r\n    }\r\n}\r\nexport function getAllFunnel() {\r\n    return {\r\n        type: '[funnel] GET_ALL_FUNNELS'\r\n    }\r\n}\r\nexport function getUid() {\r\n    return {\r\n        type: '[user] GET_UID_BY_USER_NAME',\r\n    }\r\n}\r\nexport function setUid(nId) {\r\n    return {\r\n        type: '[user] SET_USER_ID',\r\n        payload: nId\r\n    }\r\n}\r\nexport function getFunnel() {\r\n    return {\r\n        type: '[user] GET_FUNNEL'\r\n    }\r\n}\r\nexport function setNamePage(value) {\r\n    return {\r\n        type: '[funnel] SET_NAME_PAGE',\r\n        payload: value\r\n    }\r\n}\r\nexport function setStyleImage(ob) {\r\n    return {\r\n        type: '[funnel] SET_STYLE_IMAGE',\r\n        payload: ob\r\n    }\r\n}\r\nexport function removeFunnel(value) {\r\n    return {\r\n        type: '[funnel] REMOVE_FUNNEL',\r\n        payload: value\r\n    }\r\n}\r\nexport function setHrefButton(value) {\r\n    return {\r\n        type: '[funnel] SET_HREF_BUTTON',\r\n        payload: value\r\n    }\r\n}\r\nexport function setAllFunnels(value) {\r\n    return {\r\n        type: '[funnel] SET_ALL_FUNNELS',\r\n        payload: value\r\n    }\r\n}\r\nexport function setFlagAllFunnnels() {\r\n    return {\r\n        type: '[funnel] SET_FLAG_ALL_FUNNELS'\r\n    }\r\n}\r\nexport function uploadFile(file) {\r\n    return {\r\n        type: '[funnel] UPLOAD_FILE',\r\n        payload: file\r\n    }\r\n}\r\nexport function setOrderSection(new_index, old_index) {\r\n    return {\r\n        type: '[funnel] SET_ORDER_SECTION',\r\n        new_index: new_index,\r\n        old_index: old_index\r\n    }\r\n\r\n}\r\nexport function save(file) {\r\n    return {\r\n        type: '[funnel] SAVE_OR_UPDATE',\r\n        payload: file\r\n    }\r\n}\r\nexport function setIdFunnel(id) {\r\n    return {\r\n        type: '[funnel] SET_ID_FUNNEL',\r\n        payload: id\r\n    }\r\n}\r\nexport function changeLoading(){\r\n    return{\r\n        type:'[funnel] CHANE_LOADING',\r\n     \r\n    }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setStylePage, setOpacityPage, setNamePage } from '../../redux/actions/funnel.action'\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\n\r\nfunction EditPage(props) {\r\n\r\n\r\n    const { stylePage, setStylePage, opacityfromJson, namePage, setNamePage } = props\r\n    const [image, setImage] = useState(stylePage.backgroundImage ? stylePage.backgroundImage : '');\r\n    const [bgColor, SetBgColor] = useState()\r\n    // const [opacity,setOpacity]=useState('1')\r\n    // useEffect(()=>{\r\n    //     setStylePage('backgroundColor',stylePage.backgroundColor.replace(/[\\d\\.]+\\)$/g, opacity));\r\n\r\n    // },[opacity])\r\n    useEffect(() => {\r\n        SetBgColor(RGBAToHexA(stylePage.backgroundColor))\r\n    }, [stylePage])\r\n\r\n    const setColor = (value) => {\r\n        var hex = value.replace('#', '');\r\n\r\n        if (hex.length === 3) {\r\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n        }\r\n\r\n        var r = parseInt(hex.substring(0, 2), 16),\r\n            g = parseInt(hex.substring(2, 4), 16),\r\n            b = parseInt(hex.substring(4, 6), 16);\r\n\r\n        setStylePage('backgroundColor', 'rgba(' + r + ',' + g + ',' + b + ',' + opacityfromJson + ')');\r\n    }\r\n    const setOpacity = (value) => {\r\n        // setOpacityPage(value)\r\n        setStylePage('backgroundColor', stylePage.backgroundColor.replace(/[\\d\\.]+\\)$/g, value + ')'));\r\n    }\r\n    const changeImgOnClick = () => {\r\n        $('#inputFileImage').trigger('click')\r\n    }\r\n    const chooseImg = (e) => {\r\n        const files = Array.from(e.target.files)\r\n        console.log(\"files:\", files)\r\n        handleFiles(files)\r\n\r\n    }\r\n    const validateFile = (file) => {\r\n        const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/x-icon'];\r\n        if (validTypes.indexOf(file.type) === -1) {\r\n\r\n            return false;\r\n        }\r\n        console.log(\"yes\")\r\n        return true;\r\n    }\r\n    const handleFiles = async (files) => {\r\n        console.log(files[0])\r\n        if (validateFile(files[0])) {\r\n            // setFile(!file)\r\n\r\n            const myFile = new FormData()\r\n            myFile.append(\"file\", files[0])\r\n            console.log(myFile.get('file'))\r\n            // console.log(image)\r\n            console.log(files)\r\n            // openImageModal(files[0])\r\n\r\n            //  await props.uploadImage(myFile).then((url) => {\r\n            //     console.log(url);\r\n            // })\r\n\r\n\r\n\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"https://files.leader.codes/api/\" + \"WzM020nw4TgcAo1XIyl94g0Z0152\" + \"/upload\",\r\n                headers: {\r\n                    Authorization: 'view'\r\n                },\r\n\r\n                data: myFile,\r\n                processData: false,\r\n                contentType: false,\r\n                success: await function (data) {\r\n                    console.log(data);\r\n                    // data.data ?\r\n                    setStylePage('backgroundSize', '100% 100%')\r\n\r\n                    setStylePage('backgroundImage', data.data.url)\r\n                    setImage(data.data.url)\r\n                    // : alert('error')\r\n                    // return data.data.url\r\n                    // resolve(data.data.url)\r\n                },\r\n                error: await function (err) {\r\n                    alert(err);\r\n                    // return false\r\n                    // resolve(false)\r\n                },\r\n\r\n            });\r\n\r\n        };\r\n    }\r\n\r\n    // const bgColorPage=stylePage.backgroundColor\r\n\r\n    function RGBAToHexA(rgba) {\r\n\r\n        let r = (+rgba[0]).toString(16),\r\n            g = (+rgba[1]).toString(16),\r\n            b = (+rgba[2]).toString(16),\r\n            a = Math.round(+rgba[3] * 255).toString(16);\r\n\r\n        if (r.length == 1)\r\n            r = \"0\" + r;\r\n        if (g.length == 1)\r\n            g = \"0\" + g;\r\n        if (b.length == 1)\r\n            b = \"0\" + b;\r\n        if (a.length == 1)\r\n            a = \"0\" + a;\r\n        console.log(\"#\" + r + g + b + a)\r\n        return \"#\" + r + g + b + a;\r\n\r\n\r\n    }\r\n    const changeDir = (dir) => {\r\n        console.log(dir)\r\n        setStylePage('direction', dir)\r\n    }\r\n    return (\r\n        <div className=\"card button_collapse p-0\">\r\n            <div className=\"card-header p-0\" id=\"headingOne\">\r\n                <h5 className=\"m-0\">\r\n                    <button className=\"btn btn-link d-flex justify-content-between p-0 px-1  align-items-center\" data-toggle=\"collapse\"\r\n                        data-target=\"#collapseOne\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\r\n                        Page Setting <span className=\"material-icons align-middle arrow-collapse\">\r\n                            keyboard_arrow_right\r\n        </span>\r\n                    </button>\r\n\r\n                </h5>\r\n            </div>\r\n            <div id=\"collapseOne\" className=\"collapse\" name=\"0\" aria-labelledby=\"headingOne\"\r\n                data-parent=\"#accordion\">\r\n                <div id=\"pageSetting-body\" className=\"card-body p-2\">\r\n                    <label for=\"\">Name</label>\r\n                    <input type=\"text\" className=\"form-control input\" value={namePage} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setNamePage(e.target.value)} />\r\n                    <label for=\"\">Aligment</label>\r\n                    <div>\r\n                        <span class=\"material-icons\" onClick={() => changeDir('left')}>\r\n                            format_align_left\r\n</span>\r\n                        <span class=\"material-icons\" onClick={() => changeDir('right')}>\r\n                            format_align_right\r\n</span>\r\n                    </div>\r\n\r\n                    <label for=\"\">Page Background Color</label>\r\n                    <input type=\"color\" className=\"form-control input\" defaultValue={stylePage.backgroundColor} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setColor(e.target.value)} />\r\n                    <label for=\"\">Page Background Opacity</label>\r\n                    <input type=\"range\" className=\"slider\" defaultValue={stylePage.backgroundColor.replace(/^.*,(.+)\\)/, '$1')} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setOpacity(e.target.value)} min=\"0\" max=\"0.99\" step=\"0.0001\" />\r\n\r\n                    <label for=\"\">Page Background Image</label>\r\n                    <input type=\"file\" id=\"inputFileImage\" className=\"form-control \" style={{ display: 'none' }} onChange={(e) => chooseImg(e)} />\r\n                    <div onClick={() => changeImgOnClick()} className=\"col-md-10\" style={image ? { height: '60px', backgroundColor: 'red', backgroundSize: '100% 100%', backgroundImage: `url(${image})` } : { height: '60px', backgroundColor: 'red' }}></div>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            stylePage: state.funnel.jsonPage.settings.style,\r\n            opacityfromJson: state.funnel.jsonPage.settings.opacity,\r\n            namePage: state.funnel.jsonPage.name\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setStylePage: (property, newValue) => { dispatch(setStylePage({ property: property, value: newValue })) },\r\n            setOpacityPage: (newValue) => { dispatch(setOpacityPage(newValue)) },\r\n            setNamePage: (newName) => { dispatch(setNamePage(newName)) }\r\n        }\r\n    }\r\n)(EditPage) ","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { removeSection ,setStyleSection} from '../../redux/actions/funnel.action'\r\n\r\n\r\n\r\nfunction EditSection(props) {\r\n    const { sectionInEditing, arrSections, indexSectionInEditing,setStyleSection } = props\r\n    // const [editSection, setEditSection] = useState(arrSection[indexSectionInEditing])\r\n    const setColor = (value) => {\r\n        var hex = value.replace('#', '');\r\n\r\n        if (hex.length === 3) {\r\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n        }\r\n\r\n        var r = parseInt(hex.substring(0, 2), 16),\r\n            g = parseInt(hex.substring(2, 4), 16),\r\n            b = parseInt(hex.substring(4, 6), 16);\r\n\r\n        setStyleSection(indexSectionInEditing, 'backgroundColor', 'rgba(' + r + ',' + g + ',' + b + ',' + 1+ ')');\r\n    }\r\n    const setOpacity = (value) => {\r\n        // setOpacityPage(value)\r\n        setStyleSection(indexSectionInEditing,'backgroundColor', arrSections[indexSectionInEditing].settings.style.backgroundColor.replace(/[\\d\\.]+\\)$/g, value + ')'));\r\n    }\r\n\r\n    return (\r\n        <div className=\"card button_collapse p-0\">\r\n            <div className=\"card-header p-0\" id=\"headingOne\">\r\n                <h5 className=\"m-0\">\r\n                    <button className=\"btn btn-link d-flex justify-content-between p-0 px-1  align-items-center\" data-toggle=\"collapse\"\r\n                        data-target=\"#collapseSection\" aria-expanded=\"false\" aria-controls=\"collapseSection\">\r\n                        Section Setting\r\n                        <span className=\"material-icons align-middle arrow-collapse\">\r\n                            keyboard_arrow_right\r\n                        </span>\r\n                    </button>\r\n\r\n                </h5>\r\n            </div>\r\n            <div id=\"collapseSection\" className=\"collapse show\" name=\"0\" aria-labelledby=\"headingOne\"\r\n                data-parent=\"#accordion\">\r\n                <div id=\"pageSetting-body\" className=\"card-body p-2\">\r\n\r\n\r\n                    <label for=\"\">Page Background Color</label>\r\n                    <input type=\"color\" className=\"form-control input\" defaultValue={arrSections&&arrSections[indexSectionInEditing].settings.style.backgroundColor} onChange={(e) => setColor(e.target.value)} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" />\r\n                    <label for=\"\">Page Background Opacity</label>\r\n                    <input type=\"range\" className=\"slider\" id=\"\" defaultValue={arrSections&&arrSections[indexSectionInEditing].settings.style.opacity} data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" min=\"0\" max=\"0.99\" step=\"0.0001\" onChange={(e) => setOpacity(e.target.value)} />\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            indexSectionInEditing: state.funnel.indexSectionInEditing,\r\n            arrSections: state.funnel.jsonPage.arrSections\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setStyleSection: (indexSection,property,value) => { dispatch(setStyleSection({ indexSection: indexSection, property: property, value: value })) }\r\n        }\r\n    }\r\n\r\n)\r\n    (EditSection)","export const ItemTypes = {\r\n    BOX: 'box',\r\n    EL:'el'\r\n  }\r\n  ","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { removeSection } from '../../redux/actions/funnel.action'\r\nimport { removeElement, elementInEditing,setCollapseOpen } from '../../redux/actions/funnel.action'\r\nimport './elementEditButtons.css'\r\n\r\n\r\nfunction EelementEditButtons(props) {\r\n    const {id,removeElement, elementInEditing,setCollapseOpen}=props\r\n    return (\r\n        <>\r\n        <div className=\"divEditButtons\">\r\n                    <span className=\"material-icons\" onClick={() => removeElement(id)}>\r\n                        delete\r\n                    </span>\r\n                    <span className=\"material-icons\" onClick={() => setCollapseOpen('element',id)} >\r\n                            create\r\n                    </span></div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    undefined,\r\n    (dispatch) => {\r\n        return {\r\n            removeElement: function (id) { dispatch(removeElement({ id: id })) },\r\n            elementInEditing: function (id) { dispatch(elementInEditing({ id: id })) },\r\n            setCollapseOpen:function (collapse,id){dispatch(setCollapseOpen(collapse,id)) }\r\n        }\r\n    }\r\n)\r\n(EelementEditButtons)","import React, { useState, useRef } from 'react';\r\nimport { useDropzone, onDragOver } from 'react-dropzone'\r\nimport './image.css'\r\nimport { connect } from 'react-redux';\r\nimport { uploadImage, setValueElement, setStyleImage } from '../../redux/actions/funnel.action'\r\nimport $ from \"jquery\";\r\n\r\n\r\nfunction ImageUploader(props) {\r\n    const modalImageRef = useRef();\r\n    const modalRef = useRef();\r\n    const { element, setValueElement, setStyleImage, user } = props\r\n    const [image, setImage] = useState();\r\n    // const [image, setImage] = useState('https://res.cloudinary.com/css-tricks/image/fetch/w_600,q_auto,f_auto/https://cdn4.buysellads.net/uu/7/72681/1600375513-MC_CSSTricks_Logo_600x600.png');\r\n\r\n    const [file, setFile] = useState(false);\r\n    const [selectedFiles, setSelectedFiles] = useState([]);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n\r\n    const dragOver = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const dragEnter = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const dragLeave = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const fileDrop = (e) => {\r\n        e.preventDefault();\r\n        const files = e.dataTransfer.files;\r\n        console.log(e);\r\n        if (files.length) {\r\n            // (setImage(\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Casetta_SVG.svg/250px-Casetta_SVG.svg.png\"))\r\n            // handleFiles(files);\r\n            // setValueElement(\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Casetta_SVG.svg/250px-Casetta_SVG.svg.png\")\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n    const handleFiles = async (files) => {\r\n        console.log(files[0])\r\n        if (validateFile(files[0])) {\r\n            setFile(!file)\r\n            let url = URL.createObjectURL(files[0]);\r\n            setStyleImage('width', '100%')\r\n            setStyleImage('height', '400px')\r\n            setStyleImage('opacity', '0.99')\r\n            setImage(url)\r\n            const myFile = new FormData()\r\n            myFile.append(\"file\", files[0])\r\n            console.log(myFile.get('file'))\r\n            console.log(image)\r\n            console.log(files)\r\n            // openImageModal(files[0])\r\n\r\n            //  await props.uploadImage(myFile).then((url) => {\r\n            //     console.log(url);\r\n            // })\r\n\r\n            // $.ajax({\r\n            //     url: `https://funnel.dev.leader.codes/api/uploadFile/${getState().user.userId}/${getState().user.userName}`,\r\n            //     type: 'POST',\r\n            //     data: myFile,\r\n            //     contentType: false,\r\n            //     processData: false,\r\n            //     headers: {\r\n            //         Authorization: 'view'\r\n            //     },\r\n            //     success: function (data) {\r\n            //         console.log(data);\r\n            //         dispatch({ type: '[funnel] SET_IMAGE_FILE', payload: data })\r\n            //         resolve(data)\r\n            //     },\r\n            //     error: function (err) {\r\n            //         console.log(err);\r\n            //         reject(err)\r\n            //     }\r\n            // })\r\n\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: `https://funnel.dev.leader.codes/api/uploadFile/${user.userId}/${user.userName}`,\r\n                headers: {\r\n                    Authorization: 'view'\r\n                },\r\n                data: myFile,\r\n                processData: false,\r\n                contentType: false,\r\n                success: await function (data) {\r\n                    console.log(data);\r\n                    // data.data ?\r\n                        console.log(data)\r\n                            kk(data)\r\n                    //     : alert('error')\r\n                    // return data.data.url\r\n                    // resolve(data.data.url)\r\n                },\r\n                error: await function (err) {\r\n                    alert(err);\r\n                    // return false\r\n                    // resolve(false)\r\n                },\r\n\r\n            });\r\n\r\n        };\r\n    }\r\n\r\n\r\n    // const openImageModal = (file) => {\r\n    //     const reader = new FileReader();\r\n    //     modalRef.current.style.display = \"block\";\r\n    //     reader.readAsDataURL(file);\r\n    //     debugger\r\n    //     modalImageRef.current.style.backgroundImage = `url(${file})`;\r\n    //     reader.onload = function(e) {\r\n    //         modalImageRef.current.style.backgroundImage = `url(${e.target.result})`;\r\n    //     }\r\n\r\n    // }\r\n\r\n    const validateFile = (file) => {\r\n        const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/x-icon'];\r\n        if (validTypes.indexOf(file.type) === -1) {\r\n\r\n            return false;\r\n        }\r\n        console.log(\"yes\")\r\n        return true;\r\n    }\r\n    const changeImgOnClick = () => {\r\n        $('#inputFileImg').trigger('click')\r\n    }\r\n    const chooseImg = (e) => {\r\n        const files = Array.from(e.target.files)\r\n        console.log(\"files:\", files)\r\n        // (setImage(\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Casetta_SVG.svg/250px-Casetta_SVG.svg.png\"))\r\n        // setValueElement(\"https://static.wixstatic.com/media/a934fb_021005256c0c472e8001edda3facc84e~mv2.jpg/v1/fill/w_1000,h_1000,al_c,q_85/a934fb_021005256c0c472e8001edda3facc84e~mv2.jpg\")\r\n        // setStyleImage('width','100%')\r\n        // setStyleImage('height','400px')\r\n        // setStyleImage('opacity','0.99')\r\n\r\n        // kk(\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Casetta_SVG.svg/250px-Casetta_SVG.svg.png\")\r\n\r\n        handleFiles(files)\r\n\r\n    }\r\n    const kk = (val) => {\r\n        setValueElement(val)\r\n        setStyleImage('width', '100%')\r\n        setStyleImage('height', '400px')\r\n        setStyleImage('opacity', '0.99')\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <input type=\"file\" id=\"inputFileImg\" className=\"d-none\" onChange={(e) => chooseImg(e)}></input>\r\n            <div className=\"content\" onClick={() => changeImgOnClick()}>\r\n                <div className=\"container p-0\">\r\n                    <div className=\"drop-container col-12 p-0\" onDragOver={dragOver}\r\n                        onDragEnter={dragEnter}\r\n                        onDragLeave={dragLeave}\r\n                        onDrop={fileDrop}\r\n                    >\r\n\r\n                        <div className=\"align-items-center d-flex drop-message flex-column\">\r\n\r\n                            <div className=\"upload-icon\"> </div>\r\n                            {element.value ? <img src={element.value} style={element.settings} alt=\"aaaaaa\" /> : image ? <img src={image} style={element.settings} alt=\"aaaaaa\" /> :\r\n                                <>\r\n                                    <span class=\"material-icons-outlined\" style={{ fontSize: '5rem' }} >\r\n                                        panorama\r\n                             </span>\r\n                                    <p className=\"m-0 text-center\">Drag & Drop files here or click to upload</p>\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <div className=\"modal\"  ref={modalRef}>\r\n    <div className=\"overlay\"></div>\r\n    <span className=\"close\">X</span>\r\n    <div className=\"modal-image\" ref={modalImageRef}></div>\r\n</div> */}\r\n\r\n        </div>\r\n        // </div>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            user: state.user\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setValueElement: (newValue) => { dispatch(setValueElement({ value: newValue })) },\r\n            setStyleImage: (property, newValue) => { dispatch(setStyleImage({ property: property, value: newValue })) }\r\n        }\r\n        // uploadImage: (files) => { dispatch(uploadImage(files)) }\r\n    }\r\n\r\n)(ImageUploader);","import React, { useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './element.css'\r\nimport { useDrag, useDrop } from 'react-dnd';\r\nimport { setValueElement, moveElementInPart, removeElement, elementInEditing, setCollapseOpen } from '../../redux/actions/funnel.action'\r\nimport { ItemTypes } from '../../ItemTypes'\r\nimport EelementEditButtons from '../elementsEditButtons/elementEditButtons'\r\nimport ReactQuill, { Quill, Mixin, Toolbar } from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport 'react-quill/dist/quill.bubble.css';\r\nimport ImageUploader from '../image/image';\r\nimport $ from \"jquery\";\r\n\r\n// import Parser from 'html-react-parser';\r\n// import PanoramaIcon from '@material-ui/icons/Panorama';\r\n// import Icon from '@material-ui/core/Icon';\r\n\r\n\r\n\r\n\r\nfunction Element(props) {\r\n    const { elementInEditing, removeElement, currentKey, element, editMode, section, part, id, setCollapseOpen } = props\r\n    // let id='qq'\r\n    // const ref = React.createRef();\r\n    const Quill = ReactQuill.Quill\r\n    var Font = Quill.import('formats/font');\r\n    Font.whitelist = ['Ubuntu', 'Raleway', 'Roboto'];\r\n    Quill.register(Font, true);\r\n\r\n    const ref = useRef(null);\r\n    const [, drop] = useDrop({\r\n        accept: ItemTypes.EL,\r\n        hover(item, monitor) {\r\n            if (!ref.current) {\r\n                return;\r\n            }\r\n            const dragIndex = item.currentKey;\r\n            const hoverIndex = currentKey;\r\n            // Don't replace items with themselves\r\n            if (dragIndex === hoverIndex) {\r\n                return;\r\n            }\r\n            // Determine rectangle on screen\r\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n            // Get vertical middle\r\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n            // Determine mouse position\r\n            const clientOffset = monitor.getClientOffset();\r\n            // Get pixels to the top\r\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n            const source = monitor.getItem();\r\n            // Only perform the move when the mouse has crossed half of the items height\r\n            // When dragging downwards, only move when the cursor is below 50%\r\n            // When dragging upwards, only move when the cursor is above 50%\r\n            // Dragging downwards\r\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n                return;\r\n            }\r\n            // Dragging upwards\r\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n                return;\r\n            }\r\n            // Time to actually perform the action\r\n            console.log(`dragIndex: ${dragIndex},hoverIndex: ${hoverIndex} ,hoverClientY: ${hoverClientY} ,hoverMiddleY: ${hoverMiddleY}`,)\r\n\r\n            // moveCard(dragIndex, hoverIndex);\r\n            props.moveElementInPart(dragIndex, hoverIndex)\r\n\r\n\r\n            // Note: we're mutating the monitor item here!\r\n            // Generally it's better to avoid mutations,\r\n            // but it's good here for the sake of performance\r\n            // to avoid expensive index searches.\r\n            item.index = hoverIndex;\r\n        },\r\n    });\r\n    const [{ isDragging }, drag] = useDrag({\r\n        item: { type: ItemTypes.EL, id, currentKey },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging(),\r\n            //   console.log(drag);\r\n\r\n        }),\r\n    });\r\n    const opacity = isDragging ? 0 : 1;\r\n    drag(drop(ref));\r\n\r\n    const setValue = (newValue) => {\r\n        console.log(this);\r\n        console.log(currentKey);\r\n        console.log(id)\r\n        props.setValueElement(newValue)\r\n    }\r\n    function onInputText(e) {\r\n        e.currentTarget\r\n            .width(300)\r\n            .height(50)\r\n            .width(this.scrollWidth)\r\n            .height(this.scrollHeight)\r\n\r\n        elementInEditing(id)\r\n\r\n    }\r\n\r\n    function onEnterElement() {\r\n        setCollapseOpen('element')\r\n        elementInEditing(id)\r\n    }\r\n    switch (element.type) {\r\n        case \"Title\":\r\n        case \"Text\":\r\n            return (\r\n                <>\r\n                    {/* <div dangerouslySetInnerHTML={{__html:element.value}}/>\r\n                  {   Parser(element.value)} */}\r\n\r\n                    <div className=\"pointer\">\r\n              \r\n                        {/* {editMode && <EelementEditButtons id={element.id}></EelementEditButtons>} */}\r\n                        <div className={editMode &&\"hoverToEdit pointer\"}>\r\n                       { editMode && <div className='edit_buttons_element'>\r\n                            <span class=\"material-icons\" style={{ zIndex: 3, fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                                delete\r\n                </span>\r\n                            {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                        </div>}\r\n                        <ReactQuill className='col-12 text-center pointe '\r\n                            onFocus={() => onEnterElement()}\r\n                            readOnly={!editMode}\r\n                            style={{ zIndex: 10 }}\r\n                            value={element.value}\r\n                            bounds={$(\"#editor\")[0]}\r\n\r\n                            onChange={setValue}\r\n                            theme=\"bubble\"\r\n                            modules={{\r\n\r\n                                toolbar: [\r\n                                    [{ 'header': [1, 2, 3, false] }, { 'size': [] }],\r\n                                    ['bold', 'italic', 'underline', 'strike', 'blockquote', { 'color': [] }, { 'background': [] }, { 'font': [] }],\r\n                                    [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'indent': '-1' }, { 'indent': '+1' }, { 'align': [] }],\r\n                                    ['link'],\r\n                                    ['clean']\r\n                                ]\r\n                                /* ... other modules */\r\n                            }} /></div></div>\r\n\r\n\r\n                </>\r\n            )\r\n\r\n        case \"Image\":\r\n            return (\r\n                <><div className={editMode &&\"hoverToEdit pointer\"}>\r\n        {  editMode &&          <div className='edit_buttons_element'>\r\n                        <span class=\"material-icons\" style={{ zIndex: 3, fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                            delete\r\n                </span>\r\n                        {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n                    \r\n                    <div  className={element.value ?\"d-flex flex-column align-items-center justify-content-center m-2  y\":'d-flex flex-column align-items-center justify-content-center m-2 y divEmptyElement'}\r\n                        // onFocus={() => setCollapseOpen('element')}\r\n                        onClick={() => onEnterElement()}>\r\n                        {/* {element.value && <div onClick={() => onEnterElement()}\r\n                            className=\"d-flex flex-column align-items-center divEmptyElement justify-content-center m-2\">\r\n                            <span class=\"material-icons-outlined\" style={{ fontSize: '5rem' }} >\r\n                                panorama\r\n                             </span>\r\n                            <p className=\"m-0 text-center\">Drag & Drop files here or click to upload</p>\r\n                        </div>\r\n\r\n                        } */}\r\n                        <ImageUploader element={element}></ImageUploader>\r\n                    </div>\r\n\r\n\r\n                    {/* <img style={{ width: '30%' }} src={element.value}></img> */}\r\n                    </div>\r\n                </>\r\n            )\r\n        case 'Video':\r\n            return (\r\n                <>\r\n                <div className={editMode &&\"hoverToEdit pointer \"}>\r\n\r\n                 { editMode &&  <div className='edit_buttons_element'>\r\n                        <span class=\"material-icons\" style={{ zIndex: 3, fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                            delete\r\n                </span>\r\n                        {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n                    {/* <div className=\"d-flex flex-column align-items-center \" style={{ backgroundColor: '#d0c7c7' }} onFocus={() => setCollapseOpen('element')}\r\n                        onClick={() => onEnterElement()}> */}\r\n                    {element.value ? (editMode ? <img className=\"col-12\" src={`https://img.youtube.com/vi/${element.value.replace('https://www.youtube.com/watch?v=', '')}/hqdefault.jpg`} onClick={() => onEnterElement()}></img> :\r\n                        <iframe className=\"col-12\" src={element.value.replace(\"watch?v=\", \"embed/\")} frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>)\r\n                        :\r\n                        <div onClick={() => onEnterElement()}\r\n                            className=\"d-flex flex-column align-items-center divEmptyElement justify-content-center m-2\"\r\n                        // onFocus={() => setCollapseOpen('element')}\r\n                        > <span class=\"material-icons\" style={{ fontSize: '5rem' }}>\r\n                                play_circle_outline\r\n                        </span>\r\n                            <p className=\"m-0 text-center\">Add Url Video</p>\r\n                        </div>\r\n                    }\r\n\r\n                    {/* // src=\"https://img.youtube.com/vi/Ke90Tje7VS0/hqdefault.jpg\" */}\r\n                    {/* https://www.youtube.com/embed/Ke90Tje7VS0 */}\r\n\r\n                    {/* </div> */}\r\n                    </div>\r\n                </>\r\n            )\r\n        case 'Form':\r\n            return (\r\n                <>\r\n                  <div className={editMode &&\"hoverToEdit pointer\"}>\r\n            {  editMode   &&  <div className='edit_buttons_element'>\r\n                <span class=\"material-icons\" style={{ zIndex: 3,fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                    delete\r\n                </span>\r\n                {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n                    {element.value ? <iframe onClick={() => onEnterElement()} width=\"100%\" height=\"315\" src={element.value} frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe> :\r\n                        <div onClick={() => onEnterElement()} className=\"d-flex flex-column align-items-center justify-content-center m-2 divEmptyElement\"\r\n                        > <span class=\"material-icons\" style={{ fontSize: '5rem' }}>\r\n                                description\r\n                        </span>\r\n                            <p className=\"m-0 text-center\">Add Url Form</p>\r\n                        </div>}\r\n\r\n                        </div>\r\n                </>\r\n            )\r\n        case 'Html':\r\n            return (\r\n                <>\r\n                  <div className={editMode &&\"hoverToEdit pointer\"}>\r\n                        {editMode && <div className='edit_buttons_element'>\r\n                <span class=\"material-icons\" style={{ zIndex: 3,fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                    delete\r\n                </span>\r\n                {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n                    <div onClick={() => onEnterElement()} className=\"pl-4 p-4\">\r\n                        {element.value ? <div dangerouslySetInnerHTML={{ __html: element.value }} /> :\r\n                            <p>ADD HTML CODE</p>}\r\n                    </div>\r\n                    </div></>\r\n            )\r\n        case 'Button':\r\n            return (\r\n                <>\r\n                  <div className={editMode &&\"hoverToEdit pointer\"}>\r\n                       { editMode && <div className='edit_buttons_element'>\r\n                <span class=\"material-icons\" style={{ zIndex: 3,fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                    delete\r\n                </span>\r\n                {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n\r\n                    <div className='d-flex'>\r\n                        <a target=\"_blank\" className='col-10 m-auto' href={editMode ? null : element.href ? element.href : null}>\r\n                            <button onClick={() => onEnterElement()} className=\"btn col-12 p-0\" style={element.style, { backgroundColor: '#9b9191' }}>\r\n                                <ReactQuill className='col-12 text-center p-0'\r\n                                    onFocus={() => onEnterElement()}\r\n                                    readOnly={!editMode}\r\n                                    style={{ zIndex: 10 }}\r\n                                    value={element.value}\r\n                                    bounds={$(\"#editor\")[0]}\r\n\r\n                                    onChange={setValue}\r\n                                    theme=\"bubble\"\r\n                                    modules={{\r\n\r\n                                        toolbar: [\r\n                                            [{ 'header': [1, 2, 3, false] }, { 'size': [] }],\r\n                                            ['bold', 'italic', 'underline', 'strike', 'blockquote', { 'color': [] }, { 'background': [] }, { 'font': [] }],\r\n                                            [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'indent': '-1' }, { 'indent': '+1' }, { 'align': [] }],\r\n                                            ['link'],\r\n                                            ['clean']\r\n                                        ]\r\n                                        /* ... other modules */\r\n                                    }}\r\n                                />\r\n\r\n\r\n\r\n                            </button></a>\r\n                    </div>\r\n                    </div> </>\r\n            )\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            editMode: state.funnel.editMode\r\n\r\n        }\r\n    }\r\n    ,\r\n    (dispatch) => {\r\n        return {\r\n            // changeFlagConfigurator: function (newFlag) { dispatch(setFlagToggleCon(newFlag)) }\r\n            setValueElement: (newValue) => { dispatch(setValueElement({ value: newValue })) },\r\n            // setValueElement: (section, part, element, newValue) => { dispatch(setValueElement({ section: section, part: part, element: element, newValue: newValue })) },\r\n            moveElementInPart: function (dragIndex, hoverIndex) { dispatch(moveElementInPart({ dragIndex: dragIndex, hoverIndex: hoverIndex })) },\r\n            removeElement: function (id) { dispatch(removeElement({ id: id })) },\r\n            elementInEditing: function (id) { dispatch(elementInEditing({ id: id })) },\r\n            setCollapseOpen: function (collapse) { dispatch(setCollapseOpen(collapse)) }\r\n        }\r\n    }\r\n\r\n)(Element)","import React from 'react';\r\nimport Element from '../element/element'\r\nimport { connect } from 'react-redux';\r\nimport { setValueElement } from '../../redux/actions/funnel.action'\r\n\r\n\r\n\r\nfunction EditHtmlElement(props) {\r\n    const {setValueElement,thisElement}=props\r\n    return (\r\n        <>\r\n        <label for=\"\">HTML code</label>\r\n        <textarea className=\"form-control input\" value={thisElement.value} rows='5' id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setValueElement(e.target.value)}  /> \r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            thisElement: state.funnel.elementInEditing,\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setValueElement:(newValue)=>{dispatch(setValueElement({value:newValue}))}\r\n                }\r\n    }\r\n)(EditHtmlElement)","import React, { useState, useRef } from 'react';\r\nimport { useDropzone, onDragOver } from 'react-dropzone'\r\nimport { connect } from 'react-redux';\r\nimport { setValueElement } from '../../redux/actions/funnel.action'\r\nimport './editVideo.css'\r\n\r\nfunction EditVideo(props) {\r\n    const {videoOnEdit,setValueElement}=props\r\n    return (\r\n        <>\r\n        <label for=\"\">Fill Video</label>\r\n        <input type=\"text\" className=\"form-control input urlVideo\" value={videoOnEdit.value} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setValueElement(e.target.value)}  /> \r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    undefined,\r\n    (dispatch) => {\r\n        return {\r\n            setValueElement:(newValue)=>{dispatch(setValueElement({value:newValue}))}\r\n                }\r\n    }\r\n)(EditVideo)","import React, { useState, useRef } from 'react';\r\nimport { useDropzone, onDragOver } from 'react-dropzone'\r\nimport { connect } from 'react-redux';\r\nimport { setValueElement,setStyleImage, elementInEditing } from '../../redux/actions/funnel.action'\r\nimport './editImg.css'\r\n\r\nfunction EditImg(props) {\r\n    const {styleImage,element,ImgOnEdit,setValueElement,setStyleImage}=props\r\n    const setWidthImage = (value)=>{\r\n        setStyleImage('width',value+'%')\r\nconsole.log(value)\r\n    }\r\n    const setHeightImage =(value)=>{\r\n        setStyleImage('height',value+'px')\r\n    }\r\n    const  setOpacityImage=(value)=>{\r\n        setStyleImage('opacity',value)\r\n    }\r\n    return (\r\n        <>\r\n        <label for=\"\">Image width</label>\r\n          <input type=\"range\" className=\"slider\" \r\n        //   defaultValue={stylePage.backgroundColor.replace(/^.*,(.+)\\)/, '$1')}\r\n           id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" \r\n           onChange={(e) => setWidthImage(e.target.value)}\r\n            min=\"0\" max=\"100\" step=\"1\" />\r\n               <label for=\"\">Image height</label>\r\n          <input type=\"range\" className=\"slider\" \r\n        //   defaultValue={styleImage.height.replace('px','')}\r\n           id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" \r\n           onChange={(e) => setHeightImage(e.target.value)}\r\n            min=\"0\" max=\"800\" step=\"1\" />\r\n        {/* <label for=\"\">size</label>\r\n        <input type=\"text\" className=\"form-control input \" value=\"\" id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\"   />  */}\r\n        <label for=\"\">Image transparency</label>\r\n        <input type=\"range\" className=\"slider\" id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" defaultValue={styleImage.opacity} placeholder=\"\" min=\"0\" max=\"0.99\" step=\"0.0001\"\r\n         onChange={(e) => setOpacityImage(e.target.value)} />\r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            styleImage: state.funnel.elementInEditing.settings\r\n        \r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {           \r\n             setStyleImage: (property, newValue) => { dispatch(setStyleImage({ property: property, value: newValue })) }}\r\n\r\n            // setStyleImage:(property,newValue)=>{dispatch(setStyleImage({property:property,value:newValue}))}\r\n            //     }\r\n    }\r\n)(EditImg)","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setValueElement } from '../../redux/actions/funnel.action'\r\n\r\nfunction EditForm(props) {\r\n    const {formOnEdit,setValueElement,nameUser}=props\r\n    return (\r\n        <>\r\n        <label for=\"\">Fill Form</label>\r\n        <input type=\"text\" className=\"form-control input urlForm\" id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setValueElement(e.target.value)}  /> \r\n        <a target=\"_blank\" href={`https://forms.dev.leader.codes/${nameUser}/new`}><button className=\"btn mt-3\" style={{backgroundColor:\"rgb(137, 140, 143)\",fontSize:\"0.8rem\",color:''}}>Beyond the form system</button></a>\r\n\r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            nameUser: state.user.userName,\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setValueElement:(newValue)=>{dispatch(setValueElement({value:newValue}))}\r\n                }\r\n    }\r\n)(EditForm)","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setHrefButton } from '../../redux/actions/funnel.action'\r\n\r\nfunction EditButton(props) {\r\n    const {formOnEdit,setHrefButton}=props\r\n    return (\r\n        <>\r\n        <label for=\"\">add url</label>\r\n        <input type=\"text\" className=\"form-control input \" id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setHrefButton(e.target.value)}  /> \r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    undefined,\r\n    (dispatch) => {\r\n        return {\r\n            setHrefButton:(newValue)=>{dispatch(setHrefButton({value:newValue}))}\r\n                }\r\n    }\r\n)(EditButton)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { removeSection } from '../../redux/actions/funnel.action'\r\nimport EditHtmlElement from '../editHtmlElement/editHtmlElement';\r\nimport EditVideo from '../editVideo/editVideo'\r\nimport EditImg from '../editImage/editImg'\r\nimport EditForm from '../editForm/editForm';\r\nimport Editbutton from '../editButton/editbutton';\r\n\r\nfunction EditElement(props) {\r\n    const {elementInEditing}=props\r\n    return (\r\n        <div className=\"card button_collapse p-0\">\r\n                            <div className=\"card-header p-0\" id=\"headingTwo\">\r\n                                <h5 className=\"m-0\">\r\n                                    <button className=\"btn btn-link d-flex justify-content-between p-0 px-1  align-items-center\" data-toggle=\"collapse\"\r\n                                        data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\r\n                                        Editing {elementInEditing.type} <span className=\"material-icons align-middle arrow-collapse\">\r\n                                            keyboard_arrow_right\r\n                                    </span>\r\n                                    </button>\r\n\r\n                                </h5>\r\n                            </div>\r\n                            <div id=\"collapseTwo\" className=\"collapse show\" name=\"1\" aria-labelledby=\"headingTwo\"\r\n                                data-parent=\"#accordion\">\r\n                                <div id=\"EditingElement-body\" className=\"card-body p-2 \">\r\n                           \r\n                                   {elementInEditing.type==\"Video\"&& <EditVideo videoOnEdit={elementInEditing}></EditVideo>}\r\n                                   {elementInEditing.type==\"Image\"&& <EditImg ImgOnEdit={elementInEditing}></EditImg>}\r\n                                  \r\n                                   {elementInEditing.type==\"Html\"&& <EditHtmlElement></EditHtmlElement>}\r\n                                   {elementInEditing.type==\"Form\"&& <EditForm></EditForm>}\r\n                                   {elementInEditing.type==\"Button\"&& <Editbutton></Editbutton>}\r\n\r\n                                    \r\n{/*                                 \r\n                                    aaaabbb */}\r\n                                 {/* <p>{elementInEditing.type}</p> */}\r\n                                 {/* {editinigElement && <div>  <input type=\"color\" value={elementInEditing.settings.style.color}></input>\r\n                                        <input value={elementInEditing.value}></input></div> \r\n                                        }*/}\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n)\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            elementInEditing: state.funnel.elementInEditing\r\n\r\n        }\r\n    }\r\n    ,\r\n   \r\n  \r\n\r\n)(EditElement)","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './configurator.css'\r\nimport EditPage from '../editPage/editPage'\r\nimport EditSection from '../editSection/editSection'\r\nimport EditElement from '../editElement/editElement'\r\nimport { chageEditMode, creatFunnel, getAllFunnel, updateFunnel, removeFunnel, setFlagAllFunnnels, setAllFunnels, uploadFile, save } from '../../redux/actions/funnel.action'\r\nimport { useHistory, Route, Link, withRouter } from 'react-router-dom'\r\nimport html2canvas from 'html2canvas';\r\n\r\n\r\nfunction Configurator(props) {\r\n\r\n    const [flag, setFlag] = useState(false);\r\n    const { history, setFlagAllFunnnels, userName, funnelName, flagCon, collapseIsOpen, elementInEditing, chageEditMode, jsonPage, creatFunnel, getAllFunnel, save, updateFunnel, removeFunnel, idPage, nameFunnel, nameUser, uploadFile, urlPage } = props\r\n\r\n\r\n    // let color = elementInEditing.settings.style.color\r\n    function changeColor(co) {\r\n        elementInEditing.settings.style.color = co;\r\n    }\r\n    const clickAllFunnels = () => {\r\n        if (window.location.pathname.includes('all'))\r\n            history.push(`/${userName}/${funnelName}`)\r\n        else\r\n            history.push(`/${userName}/${funnelName}/all`)\r\n        getAllFunnel();\r\n        setFlagAllFunnnels()\r\n    }\r\n    const clickView = () => {\r\n        // history.push('/view')\r\n\r\n        localStorage.setItem(\"json\", JSON.stringify(jsonPage));\r\n        window.open(`${urlPage}/view/${nameUser}/${nameFunnel}`)\r\n        // history.push(`/view/${nameUser}/${nameFunnel}`);\r\n\r\n        // chageEditMode()\r\n    }\r\n    const saveOrUpdatefunnel = () => {\r\n        let eventRegristration = document.querySelector('#landingPage_edit');\r\n        html2canvas(eventRegristration).then((canvas) => {\r\n            let imgData = canvas.toDataURL();\r\n            console.log(imgData);\r\n            var funnelImage = dataURLtoFile(imgData, 'event.png');\r\n            // console.log(emailImg);\r\n            // this.props.getUrlImage(emailImg);\r\n            //this.props.setEmailBody(img);\r\n            // let win = window.open();\r\n            // win.document.write(\"<img src='\"+imgData+\"'/>\");\r\n            console.log(funnelImage);\r\n            const myFile = new FormData()\r\n            myFile.append(\"file\", funnelImage[0])\r\n            save(funnelImage)\r\n            // return (funnelImage)\r\n        });\r\n    }\r\n    const dataURLtoFile = (dataurl, filename) => {\r\n        var arr = dataurl.split(','),\r\n            mime = arr[0].match(/:(.*?);/)[1],\r\n            bstr = atob(arr[1]),\r\n            n = bstr.length,\r\n            u8arr = new Uint8Array(n);\r\n\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new File([u8arr], filename, { type: mime });\r\n    }\r\n    // const saveOrUpdatefunnel = () => {\r\n    //     save(clic())\r\n    //     // await uploadFile(clic())\r\n    //     //     .then((v) => {\r\n    //             // if (v) {\r\n    //             // if (idPage)\r\n    //             //     updateFunnel()\r\n    //             // else\r\n    //             //     creatFunnel()\r\n    //             // // }\r\n    //         // }).catch(e => {\r\n    //         //     console.log(e);\r\n    //         // });\r\n    // }\r\n    return (\r\n        <>\r\n            {  flagCon &&\r\n                <div id=\"wrap-configurator\" className=\"pt-4 px-2\">\r\n                    <div id=\"head-configurator\" className=\"row d-flex justify-content-between m-0 mb-3 mt-1\">\r\n                        {/* <span className=\"material-icons pointer\" onClick={() => clickAllFunnels()}>\r\n                            settings\r\n                 </span> */}\r\n                        {/* <Link to={window.location.pathname.includes('all')?`/${userName}/${funnelName}`:`/${userName}/${funnelName}/all`}> */}\r\n                        <span className=\"material-icons pointer\" onClick={() => clickAllFunnels()}>\r\n                            settings\r\n                 </span>\r\n                        {/* </Link> */}\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 21.5 21.5\">\r\n                            <defs></defs>\r\n                            <path className=\"a\" d=\"M8,18.75A10.75,10.75,0,1,0,18.75,8,10.75,10.75,0,0,0,8,18.75Zm10.75,7.976V10.774a7.976,7.976,0,1,1,0,15.952Z\" transform=\"translate(-8 -8)\"></path>\r\n                        </svg>\r\n                    </div>\r\n\r\n\r\n                    <div id=\"accordion\" className=''>\r\n\r\n                        <EditPage></EditPage>\r\n\r\n                        {(() => {\r\n                            switch (collapseIsOpen) {\r\n                                case 'section':\r\n                                    return <EditSection></EditSection>\r\n                                case 'element':\r\n                                    return (elementInEditing && <EditElement></EditElement>)\r\n                                default:\r\n                                    break;\r\n                            }\r\n                        })()}\r\n                        {/* <button onClick={() => clic()}> click</button> */}\r\n\r\n                        <Route render={({ history }) => (\r\n\r\n                            <div id=\"bottom_configurtor\">\r\n                                <button className='btn' onClick={() => clickView(history)}>\r\n                                    <span class=\"material-icons iconBottom\" style={{ color: \"#cac6c6\" }}>\r\n                                        remove_red_eye\r\n                            </span>\r\n                                </button>\r\n                                {idPage && <> <button className='btn' style={{ background: '#ff5f5f' }} onClick={() => saveOrUpdatefunnel()} >update</button>\r\n                                    <button className='btn' style={{ background: '#ff5f5f' }} onClick={() => removeFunnel(\"5fd9f7b28eedc0eb8b5dea30\")} >remove</button></>\r\n                                    ||\r\n                                    <button className='btn' style={{ background: '#ff5f5f' }} onClick={() => saveOrUpdatefunnel()} >save</button>}\r\n                            </div>\r\n\r\n                        )} />\r\n\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(connect(\r\n    (state) => {\r\n        return {\r\n            elementInEditing: state.funnel.elementInEditing,\r\n            collapseIsOpen: state.funnel.collapseIsOpen,\r\n            flagCon: state.funnel.isOpenConfigurator,\r\n            jsonPage: state.funnel.jsonPage,\r\n            idPage: state.funnel.idFunnel,\r\n            nameUser: state.user.userName,\r\n            nameFunnel: state.funnel.name,\r\n            urlPage: state.funnel.urlPage,\r\n            userName: state.user.userName,\r\n            funnelName: state.funnel.name\r\n\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n           \r\n            chageEditMode: () => { dispatch(chageEditMode()) },\r\n            creatFunnel: () => { dispatch(creatFunnel()) },\r\n            getAllFunnel: () => { dispatch(getAllFunnel()) },\r\n            updateFunnel: () => { dispatch(updateFunnel()) },\r\n            removeFunnel: (id) => { dispatch(removeFunnel(id)) },\r\n            setFlagAllFunnnels: () => { dispatch(setFlagAllFunnnels()) },\r\n            uploadFile: (file) => { dispatch(uploadFile(file)) },\r\n            save: (file) => { dispatch(save(file)) }\r\n        }\r\n    }\r\n)(Configurator))\r\n\r\n","export default __webpack_public_path__ + \"static/media/thumbtack.1faa366c.svg\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './top_frame.css'\r\nimport logo from '../../assets/leader_logo.png'\r\nimport thumbtack from '../../assets/thumbtack.svg'\r\nimport $ from 'jquery'\r\nimport { setFlagToggleCon ,setFlagthumbtack,getJson} from '../../redux/actions/funnel.action'\r\n\r\n\r\nfunction Top_frame(props) {\r\n\r\nconst change=()=>{\r\nconsole.log(\"lll\")\r\n\r\n$(\"#button\").css('background-color','blue')\r\n}\r\n    return (\r\n        <div id=\"top_frame\" className=\"row d-flex justify-content-between align-items-center mx-0\">\r\n            <a id=\"leader_logo\" href=\"https://lobby.leader.codes/\" className=\"d-flex\">\r\n                <img src={logo} id=\"img_logo\" class=\"m-auto\"></img>\r\n            </a>\r\n\r\n        {/* <button id=\"button\" onClick={()=>{change()}} className=\"red\">onClick</button> */}\r\n            <div className=\"mr-3\">\r\n                <img src={thumbtack} id=\"thumbtack\" className={props.thumbtack?\"rotateThumbtack pointer\":\"pointer\"} onClick={() => props.changeFlagThumbtack(!props.thumbtack)} />\r\n\r\n                <button id=\"menu2\" className=\"material-icons align-middle pl-2 pointer btn btn-simple\" onClick={!props.thumbtack && (() => props.changeFlagConfigurator(!props.flagCon))}>\r\n                    menu\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            flagCon: state.funnel.isOpenConfigurator,\r\n            thumbtack: state.funnel.thumbtack\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            // changeFlagConfigurator: function (newFlag) {dispatch(setFlagToggleCon(newFlag))},\r\n            changeFlagConfigurator: function (newFlag) {dispatch({type: '[funnel] SET_IS_OPEN_CON',payload: newFlag })},\r\n\r\n            \r\n            changeFlagThumbtack: function (newFlag) {dispatch(setFlagthumbtack(newFlag))},\r\n            getJson:()=>{dispatch(getJson())}\r\n        }\r\n    }\r\n)(Top_frame)\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './sidebar_left.css'  \r\n\r\nfunction Sidebar_left(props){\r\n    return(\r\n    <div id=\"sidebar_left\"></div>\r\n    )\r\n}\r\nexport default Sidebar_left\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './widget.css'\r\nimport { useDrag } from 'react-dnd'\r\nimport { ItemTypes } from '../../ItemTypes'\r\nimport { addElement } from '../../redux/actions/funnel.action'\r\nimport element from '../element/element';\r\nimport { setName } from '../../redux/actions/user.action';\r\n\r\n\r\nfunction Widget(props) {\r\n    const { numElement } = props\r\n    const [settings, setSettings] = useState({})\r\n    const [indexSection, setIndexSection] = useState()\r\n    const [indexPart, setIndexPart] = useState()\r\n    const [changePosition, setChangePosition] = useState()\r\n    const [name, setName] = useState()\r\n    const [valueWidget, setValueWidget] = useState({\r\n        Title: '<h1 style=\"text-align:center\">Title</h1>',\r\n        Text: '<p style=\"text-align:center\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. in fermentum risus felis non sapien. Pellentesque sed hendrerit eros. Vestibulum ac pulvinar diam, quis sodales arcu. Etiam nisl justo, consequat quis enim eget, ornare mollis erat.</p>',\r\n        Image: '',\r\n        // Video:'https://www.youtube.com/watch?v=Ke90Tje7VS0',\r\n        Video: '',\r\n        Forms: '',\r\n        Html:'',\r\n        Button:''\r\n    })\r\n    const [{ isDragging }, drag] = useDrag({\r\n        item: { name: props.name, type: ItemTypes.BOX },\r\n        collect: (monitor) => ({\r\n            isDragging: !!monitor.isDragging()\r\n\r\n        }),\r\n        end: async (item, monitor) => {\r\n            const dropResult = monitor.getDropResult();\r\n\r\n            if (item && dropResult) {\r\n                console.log(settings);\r\n                setName(item.name)\r\n                if (indexPart === dropResult.indexPart && indexSection === dropResult.indexSection)\r\n                    props.addElement(name, valueWidget[item.name], indexSection, indexPart, numElement)\r\n                else {\r\n                    setIndexPart(dropResult.indexPart)\r\n                    setIndexSection(dropResult.indexSection)\r\n                    setChangePosition(!changePosition)\r\n\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        // setSettings({tamar:\"cohjkds\"});\r\n        if (name) {\r\n\r\n            props.addElement(name, valueWidget[name], indexSection, indexPart, numElement)\r\n\r\n        }\r\n        // console.log('dd', settings)\r\n    }, [changePosition])\r\n\r\n    return (\r\n        <div ref={drag} className=\"d-flex pl-1 move\" >\r\n            <div className=\"newEelement col-1 d-flex justify-content-center p-1 px-3 my-3 \" >\r\n                <span class=\"material-icons\">\r\n                    {props.icon}\r\n                </span>\r\n\r\n            </div>\r\n            <div className=\"mt-3 ml-2 p\">\r\n                <p>{props.name}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            numElement: state.funnel.jsonPage.num_elements\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            addElement: function (newElement, value, section, part, numElement) {\r\n                dispatch(addElement({\r\n                    type: newElement, value:\r\n                        value, section: section, part: part, id: numElement\r\n                }))\r\n            },\r\n        }\r\n    },\r\n\r\n)(Widget)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './menu.css'\r\nimport { addSection, setFlagBorderParts, addElement } from '../../redux/actions/funnel.action'\r\nimport { useDrag } from 'react-dnd'\r\nimport { ItemTypes } from '../../ItemTypes'\r\nimport Widget from '../widget/widget'\r\n\r\n\r\n\r\nfunction Menu(props) {\r\n    const { flagBorderParts ,numSections} = props\r\n    function clickAddSection(numParts) {\r\n        let newSection = {\r\n            settings: {style:{backgroundColor: ''}},\r\n            arrParts: [],\r\n            id:numSections\r\n        }\r\n        for (let i = 0; i < numParts; i++) {\r\n            newSection.arrParts.push({\r\n                settings: {style: {}},\r\n                arrElements: [\r\n                    //     {type:\"title\",value:'sari'},{type:'text',value:'tehila'},{type:'image',value:'https://www.photo-art.co.il/wp-content/uploads/2015/07/BY1A5781.jpg'},{\r\n                    //     type:'video',value:'https://www.youtube.com/embed/sBws8MSXN7A'\r\n                    // },{type:'form',value:\" https://forms.leader.codes/view/tehila/my_form0\"}\r\n                ]\r\n            })\r\n        }\r\n\r\n\r\n        props.addSectioOnClick(newSection)\r\n    }\r\n\r\n    const [{ isDragging }, drag] = useDrag({\r\n        item: { type: ItemTypes.BOX },\r\n        collect: (monitor) => ({\r\n            isDragging: !!monitor.isDragging()\r\n        }),\r\n        end: (item, monitor) => {\r\n            const dropResult = monitor.getDropResult();\r\n            if (item && dropResult) {\r\n                alert(`You dropped ${item.type} into ${dropResult.name}!`);\r\n                props.addElement('title')\r\n            }\r\n        }\r\n    })\r\n    const opacity = isDragging ? 0.4 : 1;\r\n    return (\r\n        <div id=\"menu\" className=\"col-md-3 pr-0\">\r\n            <button className=\"btn col-md-12 my-2 p-0\" id=\"new_button\">\r\n                +\r\n                New\r\n            </button>\r\n            <div id=\"sections_select\" className=\"d-flex flex-column\">\r\n                <div className=\"form-check m-2\">\r\n                    <input type=\"checkbox\" className=\"form-check-input pointer\" id=\"show_grid_checkbox\" onChange={() => props.changeFlagBorderPart(!flagBorderParts)} />\r\n                    <label className=\"form-check-label\" for=\"show_grid_checkbox\">Show Grid Line</label>\r\n                </div>\r\n                <div className=\"row justify-content-around no-gutters my-auto\">\r\n                    <div id=\"grid1\" className=\"col-2 grid_imgs m-1 pointer\" onClick={() => clickAddSection(1)}></div>\r\n                    <div id=\"grid2\" className=\"col-2 grid_imgs m-1 pointer\" onClick={() => clickAddSection(2)}></div>\r\n                    <div id=\"grid3\" className=\"col-2 grid_imgs m-1 pointer\" onClick={() => clickAddSection(3)}></div>\r\n                    <div id=\"grid4\" className=\"col-2 grid_imgs m-1 pointer\" onClick={() => clickAddSection(4)}></div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div id=\"elements_select\" className=\"my-2 p-2 pl-4\">\r\n                <strong>Widget</strong>\r\n                <Widget name=\"Title\" tagWidget=\"h1\" icon=\"title\"></Widget>\r\n                <Widget name=\"Text\" tagWidget=\"p\" icon=\"notes\"></Widget>\r\n                <Widget name=\"Image\" icon=\"crop_original\"></Widget>\r\n                <Widget name=\"Form\" icon=\"description\"></Widget>\r\n                <Widget name=\"Video\" icon=\"videocam\"></Widget>\r\n                <Widget name=\"Html\" icon=\"code\"></Widget>\r\n                <Widget name=\"Button\" icon=\"code\"></Widget>\r\n                \r\n\r\n\r\n                {/* <div className=\"d-flex\" onClick={() => props.addElement('text')} >\r\n                    <div className=\"newEelement col-1 d-flex justify-content-center p-1 px-3 my-3 \" >\r\n                        <span class=\"material-icons\">\r\n                            notes\r\n                     </span>\r\n\r\n                    </div>\r\n                    <div className=\"mt-3 ml-2 p\">\r\n                        <p>Text</p>\r\n                    </div> */}\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            flagBorderParts: state.funnel.borderPart,\r\n            numSections:state.funnel.jsonPage.num_sections\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            addSectioOnClick: function (newSection) { dispatch(addSection(newSection)) },\r\n            changeFlagBorderPart: function (newFlag) { dispatch(setFlagBorderParts(newFlag)) },\r\n            // addElement: function (newElement, part) { dispatch(addElement({ type: newElement, section: 1 })) },\r\n        }\r\n    },\r\n\r\n)(Menu)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './loading.css'\r\n// import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport ReactSpinner from 'react-bootstrap-spinner'\r\n\r\n\r\nfunction Loading(props) {\r\n  \r\n    // super(props);\r\n    // this.state = {\r\n    //   loading: true\r\n    // }\r\n\r\n  \r\n    return (\r\n      <>\r\n      <div id=\"loadingPage\">\r\n  <ReactSpinner type=\"border\" color=\"primary\" size=\"5\" />\r\n  </div>\r\n       </>\r\n    )\r\n  }\r\n\r\n\r\n  export default connect(\r\n  \r\nundefined\r\n    ,\r\n    (dispatch) => {\r\n        return {\r\n        }\r\n    }\r\n)(Loading)","import React, { useState } from 'react';\r\nimport Element from '../element/element'\r\nimport { connect } from 'react-redux';\r\nimport './part.css'\r\nimport { useDrop } from 'react-dnd';\r\nimport { ItemTypes } from '../../ItemTypes'\r\n\r\nfunction Part(props) {\r\n    const { part, flagBorder, indexPart, indexSection, numElement, editMode } = props\r\n    // const [drop, setdrop] = useState(undefined);\r\n\r\n    // const partStyle = {\r\n    //     //   backgroundColor:props.part.settings.bgColor,\r\n    //     height: \"100%\",\r\n\r\n\r\n    // }\r\n    // if (editMode) {\r\n        const [{ canDrop, isOver }, drop] = useDrop({\r\n\r\n            accept: ItemTypes.BOX,\r\n            drop: () => ({ name: 'Drop', indexSection: indexSection, indexPart: indexPart }),\r\n            collect: (monitor) => ({\r\n                isOver: monitor.isOver(),\r\n                canDrop: monitor.canDrop(),\r\n                ///////////////\r\n                //    elemntDrop:monitor.getClientOffset(),\r\n\r\n            }),\r\n        })\r\n    // }\r\n    // else {\r\n\r\n    //     console.log(drop);\r\n    // }        // console.log('options', {canDrop, isOver});\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div ref={drop} className={`p-2 ${flagBorder ? \"border_part\" : \"\"}`} style={part.settings.style, { height: '100%' }}>\r\n                {part.arrElements.length > 0 && part.arrElements.map((item, i) => {\r\n                    return (\r\n                        \r\n                        <Element key={i} currentKey={i} element={item} part={indexPart} section={indexSection} id={item.id} ></Element>\r\n                    )\r\n                }) ||\r\n               <> <div> <p className=\"text-center m-3\">ADD ELEMENTS</p></div></>}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            flagBorder: state.funnel.borderPart,\r\n            editMode: state.funnel.editMode\r\n\r\n        }\r\n    }\r\n)(Part)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Part from '../part/part'\r\nimport { removeSection, setCollapseOpen,sectionInEditing } from '../../redux/actions/funnel.action'\r\nimport './section.css'\r\n\r\nfunction Section(props) {\r\n    const { section, indexSection, removeSection, setCollapseOpen,sectionInEditing,editMode } = props\r\n    // const sectionStyle = {\r\n\r\n    //     minHeight:\"200px\"\r\n\r\n    // }\r\n    const editSection = () => {\r\n        sectionInEditing(indexSection)\r\n         setCollapseOpen('section')\r\n    }\r\n    return (\r\n        <>\r\n            <div className={editMode ?\"row no-gutters sectionToEdit\":\"row no-gutters\"}  style={section.settings.style}>\r\n               {editMode && <div className='edit_buttons_section'>\r\n                <div>\r\n                <span class=\"material-icons\" style={{ zIndex: 3,fontSize: '1.2rem' }} onClick={() => removeSection(indexSection)}>\r\n                    delete\r\n                </span>\r\n                </div>\r\n                <div>\r\n                <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => editSection()} >\r\n                    create\r\n                    </span>\r\n                    </div></div>}\r\n                {props.section.arrParts.map((item, i) => {\r\n                    return (\r\n                        <div key={i} className={`col-md-${12 / props.section.arrParts.length} p-0`}>\r\n                            <Part part={item} indexSection={indexSection} indexPart={i}></Part></div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            editMode: state.funnel.editMode\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n\r\n            removeSection: function (indexSection) {\r\n                dispatch(removeSection(indexSection))\r\n            },\r\n            setCollapseOpen: function (collapse) { dispatch(setCollapseOpen(collapse)) },\r\n            sectionInEditing:(indexSection)=>{dispatch(sectionInEditing(indexSection))}\r\n        }\r\n    }\r\n)\r\n    (Section)\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './stage.css'\r\nimport Loading from '../loading/loading'\r\nimport Section from '../section/section'\r\nimport { chageEditMode, setJsonPage, setOrderSection } from '../../redux/actions/funnel.action'\r\nimport $ from \"jquery\";\r\nimport 'jquery-ui-bundle';\r\n\r\n\r\n\r\n\r\n\r\nfunction Stage(props) {\r\n    const { jsonPage, edit, chageEditMode, setJsonPage, editMode,setOrderSection,loading } = props;\r\n    const [flag, setFlag] = useState(true);\r\n    useEffect(() => {\r\n        chageEditMode(edit)\r\n        if (!editMode && flag) {\r\n            setFlag(false)\r\n            let json = localStorage.getItem(\"json\")\r\n            console.log(JSON.parse(json))\r\n            setJsonPage(JSON.parse(json))\r\n        }\r\n\r\n    })\r\n    // $(\"#sortable\").sortable({\r\n    //     stop: function (event, ui) {\r\n    //         var prev = $(ui.item).prev('div.ui-state-default').attr('data-id');\r\n    //         var next = $(ui.item).next('div.ui-state-default').attr('section-id');\r\n    //         console.log('prev = '+prev+ ' '+$(ui.item).attr('data-id')+' next = '+next);\r\n    //         setOrderSection(next,$(ui.item).attr('section-id'))\r\n    //     }\r\n    // })\r\n\r\n    const pageStyle = {\r\n        // color:jsonPage.settings.color,\r\n        // backgroundColor:jsonPage.settings.bgColor\r\n    }\r\n    return (\r\n        <>\r\n      {loading?  <Loading></Loading>:\r\n        <div id=\"stage\" className={editMode ?\"col-md-9 d-flex p-0 m-auto\":\"col-md-12 d-flex p-0 \"}>\r\n     \r\n                <div id=\"landingPage_edit\" className={editMode ? \"m-auto border_page \" : \"col-md-12 \"} style={jsonPage.settings.style}>\r\n                    <div id='sortable'></div>\r\n                {jsonPage.arrSections.length == 0 && < div className=\" d-flex justify-content-center \">\r\n                  \r\n                {/* <img className=\"image\" src=\"https://www.photo-art.co.il/wp-content/uploads/2015/07/BY1A5781.jpg\" style={{resizeMode:'contain'}} /> */}\r\n                \r\n                    <h2 id=\"whenIsEmpty\" className=\"col-md-9 mt-5 p-4\">Drag an element into content</h2>\r\n                  \r\n                </div>\r\n                }\r\n                {props.jsonPage.arrSections.map((item, i) => {\r\n                    return (\r\n\r\n\r\n                                <div key={i} className=\"ui-state-default\" section-id={item.id} data-id={i}>\r\n                                    <Section section={item} indexSection={i}></Section></div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>}\r\n        </>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            jsonPage: state.funnel.jsonPage,\r\n            editMode: state.funnel.editMode,\r\n            loading:state.funnel.loading\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setJsonPage: (json) => { dispatch(setJsonPage(json)) },\r\n            chageEditMode: (edit) => { dispatch(chageEditMode(edit)) },\r\n            setOrderSection:(newI,oldI)=>{dispatch(setOrderSection(newI,oldI))}\r\n        }\r\n    }\r\n)(Stage)\r\n","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setHrefButton } from '../../redux/actions/funnel.action'\r\nimport './itemInAllFunnels.css'\r\nfunction ItemInAllFunnels(props) {\r\n    const { item ,nameUser,urlPage} = props\r\n    const [bgImg,setBgImg]=useState(JSON.parse(item.json).image_funnel)\r\n    const openSelectedFunnel=()=>{\r\n        window.open(`${urlPage}/${nameUser}/${item.name}`)\r\n    }\r\n    return (\r\n        <>\r\n\r\n            <div className=\"card cardItemInAllFunnels col-md-3 mb-3 text-center px-3\" name=\"0\" onClick={()=>openSelectedFunnel()}>\r\n                <div className=\"card-body element\" style={{backgroundImage:`url(${bgImg})`}}>\r\n                    <h5 class=\"card-title\"></h5>\r\n                </div>\r\n                <div className=\"card-footer text-muted font-weight-bold\">\r\n                    {item.name}\r\n                </div>\r\n            </div>\r\n\r\n\r\n            {/* <div className=\"card cardItemInAllFunnels col-md-3 mb-3 text-center\">\r\n<div  className=\"itemInAllFunnels\"> {item.name}</div>\r\n           </div> */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            nameUser: state.user.userName,\r\n            urlPage:state.funnel.urlPage\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            // setHrefButton:(newValue)=>{dispatch(setHrefButton({value:newValue}))}\r\n        }\r\n    }\r\n)(ItemInAllFunnels)","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setHrefButton } from '../../redux/actions/funnel.action'\r\nimport ItemInAllFunnels from '../itemIInAllFunnels/itemInAllFunnels';\r\nimport './allFunnels.css'\r\nfunction AllFunnels(props) {\r\n    const { allFunnels } = props\r\n    return (\r\n        <>\r\n            <div id='divAllFunnels'className='row no-gutters py-3'>\r\n                {allFunnels.map((item, i) => {\r\n                    return (\r\n                        <>\r\n                            <ItemInAllFunnels item={item}></ItemInAllFunnels>\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            allFunnels: state.funnel.allFunnels\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            // setHrefButton:(newValue)=>{dispatch(setHrefButton({value:newValue}))}\r\n        }\r\n    }\r\n)(AllFunnels)","import logo from './logo.svg';\r\nimport './App.css';\r\nimport Ex from './components/ex'\r\nimport Configurator from './components/configurator/configurator';\r\nimport Top_frame from './components/top_frame/top_frame';\r\nimport Sidebar_left from './components/sidebar_left/sidebar_left';\r\nimport Menu from './components/menu/menu';\r\nimport Stage from './components/stage/stage';\r\nimport AllFunnels from './components/allFunnels/allFunnels'\r\nimport React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { DndProvider } from 'react-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport { getFunnel, getUid, getAllFunnel } from './redux/actions/funnel.action';\r\n\r\n\r\n\r\n\r\nfunction App(props) {\r\n  const [flag, setFlag] = useState(true);\r\n\r\n  const { flagCon, getFunnel, flagAllFunnels, editMode } = props\r\n  const { getUid } = props\r\n  useEffect(() => {\r\n    if (flag) {\r\n      getUid()\r\n      // getFunnel()\r\n      // getAllFunnel()\r\n      setFlag(false)\r\n    }\r\n  })\r\n  return (\r\n\r\n\r\n    <div id=\"body\" className=\"App\">\r\n      <Router>\r\n        <DndProvider backend={HTML5Backend}>\r\n          <Switch>\r\n            <Route path='/view/:userName/:funnel'>\r\n              <div className={editMode && \"pt-5\"} style={{ minHeight: '100vh' }}>\r\n                <Stage edit={false}></Stage>\r\n              </div>\r\n            </Route>\r\n            <Route path='/:userName/:funnel'>\r\n              <Configurator></Configurator>\r\n              <Top_frame></Top_frame>\r\n              <Sidebar_left></Sidebar_left>\r\n              <div id=\"wrap_center\" className={flagCon ? \"center_width_on_open_con row\" : \"center_width_on_close_con row\"} >\r\n                <Switch>\r\n                  <Route path='/:userName/:funnel/all'>\r\n                    <AllFunnels></AllFunnels>\r\n                  </Route>\r\n                  <Route path='/:userName/:funnel'>\r\n                    <Menu></Menu>\r\n                    <Stage edit={true}></Stage>\r\n                  </Route>\r\n                </Switch> </div>\r\n            </Route>\r\n          </Switch>\r\n        </DndProvider>\r\n      </Router>\r\n      {/* <Router>\r\n        <DndProvider backend={HTML5Backend}>\r\n          <Switch>\r\n            <Route path='/view'>\r\n              <div className={editMode && \"pt-5\"} style={{ minHeight: '100vh' }}>\r\n                <Stage edit={false}></Stage>\r\n              </div>\r\n            </Route>\r\n            <Route path='/'>\r\n              <Configurator></Configurator>\r\n              <Top_frame></Top_frame>\r\n              <Sidebar_left></Sidebar_left>\r\n              <div id=\"wrap_center\" className={flagCon ? \"center_width_on_open_con row\" : \"center_width_on_close_con row\"} >\r\n                {!flagAllFunnels ?\r\n                  <><Menu></Menu>\r\n                    <Stage edit={true}></Stage></> :\r\n                  <AllFunnels></AllFunnels>}\r\n              </div>\r\n            </Route>\r\n          </Switch>\r\n        </DndProvider>\r\n      </Router> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  (state) => {\r\n    return {\r\n      flagCon: state.funnel.isOpenConfigurator,\r\n      flagAllFunnels: state.funnel.isOpenAllFunnels,\r\n      editMode: state.funnel.editMode\r\n\r\n    }\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      getUid: () => { dispatch(getUid()) },\r\n      getFunnel: () => { dispatch(getFunnel()) },\r\n      getAllFunnel: () => { dispatch(getAllFunnel()) },\r\n\r\n    }\r\n  }\r\n)(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\nimport produce from 'immer'\r\n\r\nconst initialState = {\r\n    userName:window.location.pathname.split('/')[1],\r\n    userId:''\r\n}\r\n\r\nexport default produce((state = initialState, action) => {\r\n    switch (action.type) {\r\n        case '[user] SET_USER_ID':\r\n            state.userId=action.payload\r\n        default:\r\n            return state\r\n    }\r\n})","\r\n\r\nimport { SET_IS_OPEN_CON, SET_THUMBTACK, SET_COLLAPSE_OPEN, SET_JSON_PAGE, SET_STYLE_PAGE,CHANE_LOADING, SET_OPACITY_PAGE, REMOVE_SECTION, SET_STYLE_IMAGE, ADD_SECTION, SET_BORDER_PARTS, CHANGE_EDIT_MODE, ADD_ELEMENT, SET_VALUE_ELEMENT, MOVE_ELEMENT_IN_PART, REMOVE_ELEMENT, ELEMENT_IN_EDITING } from '../actions/funnel.action'\r\nimport produce from 'immer'\r\nimport { act } from 'react-dom/test-utils'\r\n\r\nconst initialState = {\r\n    // urlPage: 'http://localhost:3000',\r\n    urlPage:'http://funnel.dev.leader.codes',\r\n    loading: false,\r\n    elementInEditing: {},\r\n    indexSectionInEditing: '',\r\n    isOpenConfigurator: true,\r\n    thumbtack: false,\r\n    borderPart: false,\r\n    isOpenAllFunnels: false,\r\n    editMode: true,\r\n    collapseIsOpen: '',\r\n    // num_elements: 0,\r\n    name: window.location.pathname.split('/')[2],\r\n    allFunnels: [],\r\n    idFunnel: '',\r\n    jsonPage: {\r\n        num_elements: 0,\r\n        num_sections: 0,\r\n        image_funnel: '',\r\n        settings: {\r\n            style: { color: '', backgroundColor: 'rgba(255,255,255,0.99)', opacity: '0.99' }\r\n            , opacity: '0.99'\r\n        },\r\n        arrSections: [\r\n            // {\r\n            //     settings: { backgroundColor: 'blue' },\r\n            //     arrParts: [\r\n            //         {\r\n            //             settings: { backgroundColor: 'white' },\r\n            //             arrElements: [\r\n            //                 {\r\n            //                     settings: { type: 'text' }\r\n            //                 },\r\n            //                 {\r\n            //                     settings: { type: 'title' }\r\n            //                 }\r\n            //             ]\r\n            //         },\r\n            //         {\r\n            //             settings: { backgroundColor: 'red' },\r\n            //             arrElements: [\r\n            //                 {\r\n            //                     settings: { type: 'text' }\r\n            //                 },\r\n            //                 {\r\n            //                     settings: { type: 'title' }\r\n            //                 }\r\n            //             ]\r\n            //         },\r\n            //         {\r\n            //             settings: { bgColor: 'gray' },\r\n            //             arrElements: [\r\n            //                 {\r\n            //                     settings: { type: 'text' }\r\n            //                 },\r\n            //                 {\r\n            //                     settings: { type: 'title' }\r\n            //                 }\r\n            //             ]\r\n            //         }]\r\n            // },\r\n            // {\r\n            //     settings: { bgColor: 'black' },\r\n            //     arrParts: [\r\n            //         {\r\n            //             settings: { bgColor: 'green' },\r\n            //             arrElements: [\r\n            //                 {\r\n            //                     settings: { type: 'text' }\r\n            //                 },\r\n            //                 {\r\n            //                     settings: { type: 'title' }\r\n            //                 }\r\n            //             ]\r\n            //         }]\r\n            // }\r\n        ]\r\n    }\r\n    // jsonPage: {\r\n    //     settings: {},\r\n    //     arrSections: [{\r\n    //         settings: {},\r\n    //         arrParts: [{\r\n    //             settings: {},\r\n    //             arrElements: [{ settings: {} }]\r\n    //         }]\r\n    //     }]\r\n\r\n    // }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n// function findElementById(idElement){\r\n\r\n//     initialState.jsonPage.arrSections.map((item, a) => {\r\n//         item.arrParts.map((item, b) => {\r\n//             item.arrElements.map((item, c) => {\r\n//                 if (item.id == idElement) {\r\n//                    return item\r\n//                 }\r\n//             })\r\n//         })\r\n//     })\r\n// }\r\nexport default produce((state = initialState, action) => {\r\n    switch (action.type) {\r\n        case '[funnel] SET_ID_FUNNEL':\r\n            state.idFunnel = action.payload;\r\n            return state\r\n        case SET_IS_OPEN_CON:\r\n            return { ...state, isOpenConfigurator: action.payload }\r\n        case SET_THUMBTACK:\r\n            // return { ...state, thumbtack: action.payload }\r\n            state.thumbtack = action.payload\r\n            return state\r\n        case ADD_SECTION:\r\n            // state.jsonPage = state.jsonPage.arrSections.concat(action.payload)\r\n            // return {...state}\r\n\r\n            // return{...state,\r\n            //     arrSections: [...state.jsonPage.arrSections, action.payload]}\r\n            state.jsonPage.arrSections.push(action.payload)\r\n            state.jsonPage.num_sections++\r\n\r\n            return state\r\n        case SET_BORDER_PARTS: {\r\n            return { ...state, borderPart: action.payload }\r\n        }\r\n        case ADD_ELEMENT: {\r\n            const newElement = { type: action.payload.type, value: action.payload.value, settings: {}, id: action.payload.id }\r\n            state.jsonPage.arrSections[action.payload.section].arrParts[action.payload.part].arrElements.push(newElement)\r\n            state.elementInEditing = newElement;\r\n            state.collapseIsOpen = \"element\"\r\n            state.jsonPage.num_elements++\r\n\r\n            // state.editinigElement = true\r\n\r\n            return state\r\n        }\r\n        case SET_VALUE_ELEMENT: {\r\n            // if()\r\n            state.elementInEditing.value = action.payload.value\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n                        if (item.id == state.elementInEditing.id) {\r\n                            item.value = action.payload.value\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            return state\r\n        }\r\n        case MOVE_ELEMENT_IN_PART: {\r\n\r\n            // let a= state.jsonPage.arrSections[0].arrParts[0].arrElements;\r\n            // state.jsonPage.arrSections[0].arrParts[0].arrElements.splice(2, 0,state.jsonPage.arrSections[0].arrParts[0].arrElements.splice(2,1)[0] );\r\n            // // state.jsonPage.arrSections[0].arrParts[0].arrElements=a\r\n            // const components = prevState.components.slice(0);\r\n            // components.splice(0, 0, element);\r\n            // return { components };\r\n            let a = state.jsonPage.arrSections[0].arrParts[0].arrElements.splice(action.payload.dragIndex, 1)\r\n            state.jsonPage.arrSections[0].arrParts[0].arrElements.splice(action.payload.hoverIndex, 0, a[0])\r\n            return state\r\n        }\r\n        case ELEMENT_IN_EDITING: {\r\n            console.log(action.payload.id)\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n                        if (item.id == action.payload.id) {\r\n                            state.elementInEditing = item\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            // state.elementInEditing = findElementById(action.payload.id)\r\n            state.editinigElement = true\r\n            return state\r\n        }\r\n        case '[funnel] SECTION_IN_EDITING': {\r\n            console.log(action.payload.id)\r\n            state.indexSectionInEditing = action.payload\r\n            return state\r\n        }\r\n        case REMOVE_SECTION:\r\n            state.jsonPage.arrSections.splice(action.payload, 1)\r\n            return state\r\n\r\n        case SET_COLLAPSE_OPEN:\r\n            state.collapseIsOpen = action.collapse\r\n            console.log(action.collapse)\r\n            if (action.collapse === \"element\") {\r\n                state.jsonPage.arrSections.map((item, a) => {\r\n                    item.arrParts.map((item, b) => {\r\n                        item.arrElements.map((item, c) => {\r\n                            if (item.id == action.id) {\r\n                                state.elementInEditing = item\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n            return state\r\n        case REMOVE_ELEMENT:\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n\r\n                        if (item.id == action.payload.id) {\r\n\r\n                            state.jsonPage.arrSections[a].arrParts[b].arrElements.splice(c, 1)\r\n                        }\r\n                    })\r\n\r\n\r\n                })\r\n            })\r\n            return state\r\n        case CHANGE_EDIT_MODE:\r\n            state.editMode = action.payload\r\n            return state\r\n\r\n        case SET_JSON_PAGE:\r\n            state.jsonPage = action.payload\r\n            return state\r\n        case SET_OPACITY_PAGE:\r\n            state.jsonPage.settings.opacity = action.payload\r\n            return state\r\n        case SET_OPACITY_PAGE:\r\n            state.jsonPage.settings.opacity = action.payload\r\n            return state\r\n        case SET_STYLE_PAGE:\r\n            state.jsonPage.settings.style[action.payload.property] = action.payload.value\r\n            return state\r\n        case '[funnel] SET_NAME_PAGE':\r\n            state.name = action.payload\r\n            return state\r\n        case '[funnel] SET_ID_FUNNEL':\r\n            state.idFunnel = action.payload\r\n            return state\r\n        case '[funnel] SET_HREF_BUTTON':\r\n            state.elementInEditing.value = action.payload.value\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n                        if (item.id == state.elementInEditing.id) {\r\n                            item.href = action.payload.value\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            return state\r\n        case '[funnel] SET_STYLE_IMAGE':\r\n            // state.jsonPage.settings.style[action.payload.property] = action.payload.value    \r\n            state.elementInEditing.settings[action.payload.property] = action.payload.value\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n                        if (item.id == state.elementInEditing.id) {\r\n                            item.settings[action.payload.property] = action.payload.value\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            return state\r\n\r\n        case '[funnel] SET_ALL_FUNNELS':\r\n            state.allFunnels = action.payload\r\n            return state\r\n        case '[funnel] SET_FLAG_ALL_FUNNELS':\r\n            state.isOpenAllFunnels = !state.isOpenAllFunnels\r\n            return state\r\n        case '[funnel] SET_STYLE_SECTION':\r\n            state.jsonPage.arrSections[action.payload.indexSection].settings.style[action.payload.property] = action.payload.value\r\n            return state\r\n        case '[funnel] SET_IMAGE_FILE':\r\n            state.jsonPage.image_funnel = action.payload\r\n            return state;\r\n        case '[funnel] CHANGE_LOADING':\r\n            state.loading =  !state.loading\r\n            return state;\r\n\r\n        case '[funnel] SET_ORDER_SECTION':\r\n\r\n            let a = state.jsonPage.arrSections.indexOf(state.jsonPage.arrSections.find(x => `${x.id}` === action.old_index))\r\n            let b = action.new_index ? state.jsonPage.arrSections.indexOf(state.jsonPage.arrSections.find(x => `${x.id}` === action.new_index)) : undefined\r\n            if (b >= state.jsonPage.arrSections.length) {\r\n                var k = b - state.jsonPage.arrSections.length + 1;\r\n                while (k--) {\r\n                    state.jsonPage.arrSections.push(undefined);\r\n                }\r\n            }\r\n            state.jsonPage.arrSections.splice(b - 1, 0, state.jsonPage.arrSections.splice(a, 1)[0]);\r\n            return state; // for testing\r\n       \r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n\r\n})","import { createStore ,applyMiddleware,combineReducers} from 'redux';\r\nimport { produce } from 'immer'\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n// import reducer from './reducers/index'\r\nimport ReduxThunk from 'redux-thunk' \r\nimport {getFromServer,uploadImage,creatFunnel,getAllFunnelByUserId,getUidByUserName,getFunnelByName,updateFunnel,removeFunnel,uploadFile,saveOrUpdate} from './middleware/crud'\r\nimport userReducer from './reducers/user.reducer'\r\nimport funnelReducer from './reducers/funnel.reducer'\r\n\r\n\r\nconst reducer=combineReducers({\r\n    user: userReducer,\r\n    funnel: funnelReducer,\r\n   \r\n    \r\n})\r\nconst store = createStore(\r\n    reducer,composeWithDevTools(\r\n        applyMiddleware(\r\n            getFromServer,\r\n            creatFunnel,\r\n            getAllFunnelByUserId,\r\n            getUidByUserName,\r\n            getFunnelByName,\r\n            updateFunnel,\r\n            removeFunnel,\r\n            uploadFile,\r\n            saveOrUpdate\r\n            // uploadImage\r\n        ),\r\n    )\r\n)\r\nwindow.store=store\r\nexport default store;\r\n\r\n\r\n","import $, { error } from \"jquery\";\r\n\r\n\r\nexport const saveOrUpdate = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[funnel] SAVE_OR_UPDATE') {\r\n        dispatch({ type: '[funnel] CHANGE_LOADING'})\r\n        dispatch({ type: '[funnel] UPLOAD_FILE', payload: action.payload }).then((res) => {\r\n            if (getState().funnel.idFunnel)\r\n                dispatch({ type: '[funnel] UPDATE_FUNNEL' })\r\n            else\r\n                dispatch({ type: '[funnel] CREAT_FUNNEL' })\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const getFromServer = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === 'GET_JSON')\r\n        $.ajax({\r\n            url: 'https://randomuser.me/api/?results=10&seed=abc',\r\n            type: 'GET',\r\n            success: function (data) {\r\n                console.log(data);\r\n            }\r\n        })\r\n    return next(action)\r\n}\r\nexport const creatFunnel = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[funnel] CREAT_FUNNEL') {\r\n        console.log(getState().funnel.jsonPage);\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/${getState().user.userId}`,\r\n            type: 'POST',\r\n            data: { 'name': getState().funnel.name, json: JSON.stringify(getState().funnel.jsonPage) },\r\n            success: function (data) {\r\n                console.log(data);\r\n                dispatch({ type: '[funnel] SET_ID_FUNNEL', payload: data.funnel._id  })\r\n                dispatch({ type: '[funnel] CHANGE_LOADING'})\r\n            },\r\n            error: function (err) {\r\n                console.log();\r\n                alert(JSON.parse(err.responseText).message)\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n\r\n}\r\nexport const updateFunnel = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[funnel] UPDATE_FUNNEL') {\r\n        console.log(getState().funnel.jsonPage);\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/updateFunnel/${getState().user.userId}/${getState().funnel.idFunnel}`,\r\n            type: 'POST',\r\n            data: { name: getState().funnel.name, json: JSON.stringify(getState().funnel.jsonPage) },\r\n            success: function (data) {\r\n                console.log(data);\r\n                dispatch({ type: '[funnel] CHANGE_LOADING'})\r\n            },\r\n            error: function (err) {\r\n                console.log();\r\n                alert(JSON.parse(err.responseText).message)\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\nexport const getAllFunnelByUserId = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[funnel] GET_ALL_FUNNELS') {\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/${getState().user.userId}`,\r\n            type: 'GET',\r\n            success: function (data) {\r\n                console.log(data);\r\n                dispatch({ type: '[funnel] SET_ALL_FUNNELS', payload: data.result })\r\n            },\r\n            error: function (err) {\r\n                console.log(err);\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\nexport const getUidByUserName = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[user] GET_UID_BY_USER_NAME') {\r\n        // let url = window.location;\r\n        // let userName = url.pathname.split('/')[1]\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/getuser/${getState().user.userName}`,\r\n            type: 'GET',\r\n            success: function (data) {\r\n                console.log(data);\r\n                let newUid = data.uid;\r\n                dispatch({ type: '[user] SET_USER_ID', payload: newUid })\r\n                if (getState().funnel.name !== 'new')\r\n                    dispatch({ type: '[user] GET_FUNNEL', payload: newUid })\r\n\r\n            },\r\n            error: function (err) {\r\n                console.log(err);\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n\r\n}\r\nexport const getFunnelByName = ({ dispatch, getState }) => next => action => {\r\n\r\n    if (action.type === '[user] GET_FUNNEL') {\r\n        const uid = getState().user.userId ? getState().user.userId : action.payload\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/${uid}/${getState().funnel.name}`,\r\n            type: 'GET',\r\n            success: function (data) {\r\n                console.log(data);\r\n                if (data.result) {\r\n                    console.log(JSON.parse(data.result.json));\r\n                    console.log(data.result._id);\r\n                    dispatch({ type: '[funnel] SET_ID_FUNNEL', payload: data.result._id })\r\n                    dispatch({ type: '[funnel] SET_JSON_PAGE', payload: JSON.parse(data.result.json) })\r\n                }\r\n                else {\r\n                    alert('Page not found')\r\n                    window.location.href = `${getState().funnel.urlPage}/${getState().user.userName}/new`\r\n                }\r\n            },\r\n            error: function (err) {\r\n                console.log(err);\r\n\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n\r\n}\r\nexport const removeFunnel = ({ dispatch, getState }) => next => action => {\r\n\r\n    if (action.type === '[funnel] REMOVE_FUNNEL') {\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/removeFunnel/${action.payload}`,\r\n            type: 'DELETE',\r\n            success: function (data) {\r\n                console.log(data);\r\n            },\r\n            error: function (err) {\r\n                console.log(err);\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\nexport const uploadFile = ({ dispatch, getState }) => next => action => {\r\n    return new Promise((resolve, reject) => {\r\n        if (action.type === '[funnel] UPLOAD_FILE') {\r\n            const fil = action.payload\r\n            console.log(fil);\r\n            const myFile = new FormData()\r\n            myFile.append(\"file\", action.payload)\r\n            $.ajax({\r\n                url: `https://funnel.dev.leader.codes/api/uploadFile/${getState().user.userId}/${getState().user.userName}`,\r\n                type: 'POST',\r\n                data: myFile,\r\n                contentType: false,\r\n                processData: false,\r\n                headers: {\r\n                    Authorization: 'view'\r\n                },\r\n                success: function (data) {\r\n                    console.log(data);\r\n                    dispatch({ type: '[funnel] SET_IMAGE_FILE', payload: data })\r\n                    resolve(data)\r\n                },\r\n                error: function (err) {\r\n                    console.log(err);\r\n                    reject(err)\r\n                }\r\n            })\r\n        }\r\n        return next(action)\r\n    })\r\n}\r\n// export const uploadImage = ({ dispatch, getState }) => next => action => {\r\n//     return new Promise((resolve, reject) => {\r\n//     if (action.type === '[funnel] UPLOAD_IMAGE')\r\n//     console.log(action.payload.get('file'))\r\n//     $.ajax({\r\n//         type: \"POST\",\r\n//         url: \"https://files.leader.codes/api/\" + \"WzM020nw4TgcAo1XIyl94g0Z0152\" + \"/upload\",\r\n//         headers:  {\r\n//             Authorization: 'view'\r\n//           },\r\n\r\n//         data: action.payload,\r\n//         processData: false,\r\n//         contentType: false,\r\n//         success: function (data) {\r\n//             console.log(data);\r\n//             // return data.data.url\r\n//             resolve(data.data.url)\r\n//         },\r\n//         error: function (err) {\r\n//             alert(err);\r\n//             // return false\r\n//             resolve(false)\r\n//         },\r\n\r\n//     });\r\n\r\n//         return next(action)\r\n// })\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n// import $, { error } from \"jquery\";\r\n// export const saveOrUpdate = ({ dispatch, getState }) => next => action => {\r\n//     if (action.type === '[funnel] SAVE_OR_UPDATE') {\r\n//         dispatch({ type: '[funnel] UPLOAD_FILE', payload: action.payload }).then((res) => {\r\n//             if (getState().funnel.idFunnel)\r\n//                 dispatch({ type: '[funnel] UPDATE_FUNNEL' })\r\n//             else\r\n//                 dispatch({ type: '[funnel] CREAT_FUNNEL' })\r\n//         })\r\n//     }\r\n//     return next(action)\r\n// }\r\n\r\n\r\n// export const getFromServer = ({ dispatch, getState }) => next => action => {\r\n//     if (action.type === 'GET_JSON')\r\n//         $.ajax({\r\n//             url: 'https://randomuser.me/api/?results=10&seed=abc',\r\n//             type: 'GET',\r\n//             success: function (data) {\r\n//                 console.log(data);\r\n//             }\r\n//         })\r\n//     return next(action)\r\n// }\r\n// export const creatFunnel = ({ dispatch, getState }) => next => action => {\r\n//     if (action.type === '[funnel] CREAT_FUNNEL') {\r\n//         console.log(getState().funnel.jsonPage);\r\n//         $.ajax({\r\n//             url: `https://funnel.dev.leader.codes/api/${getState().user.userId}`,\r\n//             type: 'POST',\r\n//             data: { 'name': getState().funnel.name, json: JSON.stringify(getState().funnel.jsonPage) },\r\n//             success: function (data) {\r\n//                 console.log(data);\r\n//             },\r\n//             error: function (err) {\r\n//                 console.log();\r\n//                 alert(JSON.parse(err.responseText).message)\r\n//             }\r\n//         })\r\n//     }\r\n//     return next(action)\r\n\r\n// }\r\n// export const updateFunnel = ({ dispatch, getState }) => next => action => {\r\n//     if (action.type === '[funnel] UPDATE_FUNNEL') {\r\n//         console.log(getState().funnel.jsonPage);\r\n//         $.ajax({\r\n//             url: `https://funnel.dev.leader.codes/api/updateFunnel/${getState().user.userId}/${getState().funnel.idFunnel}`,\r\n//             type: 'POST',\r\n//             data: { name: getState().funnel.name, json: JSON.stringify(getState().funnel.jsonPage) },\r\n//             success: function (data) {\r\n//                 console.log(data);\r\n//             },\r\n//             error: function (err) {\r\n//                 console.log();\r\n//                 alert(JSON.parse(err.responseText).message)\r\n//             }\r\n//         })\r\n//     }\r\n//     return next(action)\r\n// }\r\n// export const getAllFunnelByUserId = ({ dispatch, getState }) => next => action => {\r\n//     new Promise((resolve, reject) => {\r\n//         if (action.type === '[funnel] GET_ALL_FUNNELS') {\r\n//             $.ajax({\r\n//                 url: `https://funnel.dev.leader.codes/api/${getState().user.userId}`,\r\n//                 type: 'GET',\r\n//                 success: function (data) {\r\n//                     console.log(data);\r\n//                     dispatch({ type: '[funnel] SET_ALL_FUNNELS', payload: data.result })\r\n//                     resolve(data)\r\n//                     // dispatch({ type: '[funnel] SET_FLAG_ALL_FUNNELS'})\r\n//                 },\r\n//                 error: function (err) {\r\n//                     console.log(err);\r\n//                     reject(err)\r\n//                 }\r\n//             })\r\n//         }\r\n//         return next(action)\r\n//     })\r\n// }\r\n// export const getUidByUserName = ({ dispatch, getState }) => next => action => {\r\n//     if (action.type === '[user] GET_UID_BY_USER_NAME') {\r\n//         // let url = window.location;\r\n//         // let userName = url.pathname.split('/')[1]\r\n//         $.ajax({\r\n//             url: `https://funnel.dev.leader.codes/api/getuser/${getState().user.userName}`,\r\n//             type: 'GET',\r\n//             beforeSend: function () {\r\n//             },\r\n//             success: function (data) {\r\n//                 console.log(data);\r\n//                 let newUid = data.uid;\r\n//                 dispatch({ type: '[user] SET_USER_ID', payload: newUid })\r\n//                 if (getState().funnel.name !== 'new')\r\n//                     dispatch({ type: '[user] GET_FUNNEL', payload: newUid })\r\n\r\n//             },\r\n//             error: function (err) {\r\n//                 console.log(err);\r\n//             }\r\n//         })\r\n//     }\r\n//     return next(action)\r\n\r\n// }\r\n// export const getFunnelByName = ({ dispatch, getState }) => next => action => {\r\n\r\n//     if (action.type === '[user] GET_FUNNEL') {\r\n//         const uid = getState().user.userId ? getState().user.userId : action.payload\r\n//         $.ajax({\r\n//             url: `https://funnel.dev.leader.codes/api/${uid}/${getState().funnel.name}`,\r\n//             type: 'GET',\r\n//             success: function (data) {\r\n//                 console.log(data);\r\n//                 if (data.result) {\r\n//                     console.log(JSON.parse(data.result.json));\r\n//                     console.log(data.result._id);\r\n//                     dispatch({ type: '[funnel] SET_ID_FUNNEL', payload: data.result._id })\r\n//                     dispatch({ type: '[funnel] SET_JSON_PAGE', payload: JSON.parse(data.result.json) })\r\n//                 }\r\n//                 else {\r\n//                     alert('Page not found')\r\n//                     window.location.href = `${getState().funnel.urlPage}/${getState().user.userName}/new`\r\n//                 }\r\n//             },\r\n//             error: function (err) {\r\n//                 console.log(err);\r\n\r\n//             }\r\n//         })\r\n//     }\r\n//     return next(action)\r\n\r\n// }\r\n// export const removeFunnel = ({ dispatch, getState }) => next => action => {\r\n\r\n//     if (action.type === '[funnel] REMOVE_FUNNEL') {\r\n//         $.ajax({\r\n//             url: `https://funnel.dev.leader.codes/api/removeFunnel/${action.payload}`,\r\n//             type: 'DELETE',\r\n//             success: function (data) {\r\n//                 console.log(data);\r\n//             },\r\n//             error: function (err) {\r\n//                 console.log(err);\r\n//             }\r\n//         })\r\n//     }\r\n//     return next(action)\r\n// }\r\n// // export const uploadFile = ({ dispatch, getState }) => next => action => {\r\n// //     return new Promise((resolve, reject) => {\r\n// //         if (action.type === '[funnel] UPLOAD_FILE') {\r\n// //             const fil = action.payload\r\n// //             console.log(fil);\r\n// //             const myFile = new FormData()\r\n// //             myFile.append(\"file\", action.payload)\r\n// //             $.ajax({\r\n// //                 url: `https://funnel.dev.leader.codes/api/uploadFile/${getState().user.userId}/${getState().user.userName}`,\r\n// //                 type: 'POST',\r\n// //                 data: myFile,\r\n// //                 contentType: false,\r\n// //                 processData: false,\r\n// //                 headers: {\r\n// //                     Authorization: 'view'\r\n// //                 },\r\n// //                 success: function (data) {\r\n// //                     console.log(data);\r\n// //                     dispatch({ type: '[funnel] SET_IMAGE_FILE', payload: data })\r\n// //                     resolve(data)\r\n// //                 },\r\n// //                 error: function (err) {\r\n// //                     console.log(err);\r\n// //                     reject(err)\r\n// //                 }\r\n// //             })\r\n// //         }\r\n// //         return next(action)\r\n// //     })\r\n// // }\r\n\r\n// // export const uploadImage = ({ dispatch, getState }) => next => action => {\r\n// //     return new Promise((resolve, reject) => {\r\n// //     if (action.type === '[funnel] UPLOAD_IMAGE')\r\n// //     console.log(action.payload.get('file'))\r\n// //     $.ajax({\r\n// //         type: \"POST\",\r\n// //         url: \"https://files.leader.codes/api/\" + \"WzM020nw4TgcAo1XIyl94g0Z0152\" + \"/upload\",\r\n// //         headers:  {\r\n// //             Authorization: 'view'\r\n// //           },\r\n\r\n// //         data: action.payload,\r\n// //         processData: false,\r\n// //         contentType: false,\r\n// //         success: function (data) {\r\n// //             console.log(data);\r\n// //             // return data.data.url\r\n// //             resolve(data.data.url)\r\n// //         },\r\n// //         error: function (err) {\r\n// //             alert(err);\r\n// //             // return false\r\n// //             resolve(false)\r\n// //         },\r\n\r\n// //     });\r\n\r\n// //         return next(action)\r\n// // })\r\n// // }\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport store from './redux/store'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}