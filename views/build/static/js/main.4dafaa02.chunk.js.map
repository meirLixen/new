{"version":3,"sources":["logo.svg","redux/actions/funnel.action.js","components/editPage/editPage.js","components/editSection/editSection.js","ItemTypes.js","components/elementsEditButtons/elementEditButtons.js","components/image/image.js","components/element/element.js","components/editHtmlElement/editHtmlElement.js","components/editVideo/editVideo.js","components/editImage/editImg.js","components/editForm/editForm.js","components/editButton/editbutton.js","components/editElement/editElement.js","components/configurator/configurator.js","assets/thumbtack.svg","components/top_frame/top_frame.js","assets/leader_logo.png","components/sidebar_left/sidebar_left.js","components/widget/widget.js","components/menu/menu.js","components/part/part.js","components/section/section.js","components/stage/stage.js","components/itemIInAllFunnels/itemInAllFunnels.js","components/allFunnels/allFunnels.js","App.js","reportWebVitals.js","redux/reducers/user.reducer.js","redux/reducers/funnel.reducer.js","redux/store.js","redux/middleware/crud.js","index.js"],"names":["SET_IS_OPEN_CON","SET_THUMBTACK","ADD_SECTION","SET_BORDER_PARTS","ADD_ELEMENT","SET_VALUE_ELEMENT","MOVE_ELEMENT_IN_PART","REMOVE_SECTION","REMOVE_ELEMENT","ELEMENT_IN_EDITING","SET_COLLAPSE_OPEN","CHANGE_EDIT_MODE","SET_JSON_PAGE","SET_STYLE_PAGE","SET_OPACITY_PAGE","setValueElement","nv","type","payload","removeElement","index","elementInEditing","id","setCollapseOpen","collapse","chageEditMode","nf","setStyleImage","ob","connect","state","stylePage","funnel","jsonPage","settings","style","opacityfromJson","opacity","namePage","name","dispatch","setStylePage","property","newValue","value","setOpacityPage","setNamePage","newName","props","useState","backgroundImage","image","setImage","SetBgColor","useEffect","rgba","r","toString","g","b","a","Math","round","length","console","log","RGBAToHexA","backgroundColor","handleFiles","files","file","indexOf","myFile","FormData","append","get","$","Authorization","data","url","err","alert","headers","processData","contentType","success","error","ajax","changeDir","dir","className","data-toggle","data-target","aria-expanded","aria-controls","aria-labelledby","data-parent","for","data-placement","placeholder","onChange","e","target","class","onClick","defaultValue","hex","replace","parseInt","substring","setColor","min","max","step","display","Array","from","chooseImg","trigger","height","backgroundSize","indexSectionInEditing","arrSections","setStyleSection","indexSection","sectionInEditing","ItemTypes","undefined","useRef","element","setFile","validateFile","kk","val","onDragOver","preventDefault","onDragEnter","onDragLeave","onDrop","dataTransfer","src","alt","fontSize","editMode","moveElementInPart","dragIndex","hoverIndex","currentKey","section","part","Quill","ReactQuill","Font","import","whitelist","register","ref","useDrop","accept","hover","item","monitor","current","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","getItem","drop","useDrag","collect","isDragging","drag","setValue","onEnterElement","zIndex","onFocus","readOnly","bounds","theme","modules","toolbar","frameborder","allow","allowfullscreen","width","dangerouslySetInnerHTML","__html","href","thisElement","rows","videoOnEdit","styleImage","ImgOnEdit","nameUser","user","userName","formOnEdit","color","setHrefButton","collapseIsOpen","flagCon","isOpenConfigurator","idPage","idFunnel","nameFunnel","urlPage","creatFunnel","getAllFunnel","updateFunnel","removeFunnel","setFlagAllFunnnels","uploadFile","save","useHistory","saveOrUpdatefunnel","eventRegristration","document","querySelector","html2canvas","then","canvas","imgData","toDataURL","funnelImage","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","xmlns","viewBox","d","transform","render","history","localStorage","setItem","JSON","stringify","window","open","background","thumbtack","changeFlagConfigurator","newFlag","setFlagToggleCon","changeFlagThumbtack","setFlagthumbtack","getJson","Sidebar_left","numElement","num_elements","addElement","newElement","setIndexSection","indexPart","setIndexPart","changePosition","setChangePosition","setName","Title","Text","Image","Video","Forms","Html","Button","valueWidget","end","dropResult","getDropResult","icon","flagBorderParts","borderPart","numSections","num_sections","addSectioOnClick","newSection","addSection","changeFlagBorderPart","setFlagBorderParts","clickAddSection","numParts","arrParts","i","push","arrElements","tagWidget","flagBorder","isOver","canDrop","map","removeSection","setJsonPage","json","edit","setOrderSection","newI","oldI","new_index","old_index","flag","setFlag","parse","section-id","data-id","image_funnel","bgImg","allFunnels","flagAllFunnels","isOpenAllFunnels","getUid","getFunnel","DndProvider","backend","HTML5Backend","path","minHeight","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","location","pathname","userId","produce","action","c","splice","editinigElement","find","x","k","reducer","combineReducers","userReducer","funnelReducer","store","createStore","composeWithDevTools","applyMiddleware","getState","next","responseText","message","result","newUid","uid","_id","Promise","resolve","reject","fil","res","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4dafaa02.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import { connect } from \"react-redux\"\r\n\r\nexport const SET_IS_OPEN_CON='[funnel] SET_IS_OPEN_CON'\r\nexport const SET_THUMBTACK ='[funnel] SET_THUMBTACK'\r\nexport const ADD_SECTION ='[funnel] ADD_SECTION'\r\nexport const SET_BORDER_PARTS='[funnel] SET_BORDER_PARTS'\r\nexport const ADD_ELEMENT='[funnel] ADD_ELEMENT'\r\nexport const SET_VALUE_ELEMENT='[funnel] SET_VALUE_ELEMENt'\r\nexport const MOVE_ELEMENT_IN_PART='[funnel] MOVE_ELEMENT_IN_PART'\r\nexport const REMOVE_SECTION ='[funnel] REMOVE_SECTION'\r\nexport const REMOVE_ELEMENT ='[funnel] REMOVE_ELEMENT'\r\nexport const ELEMENT_IN_EDITING ='[funnel] ELEMENT_IN_EDITING'\r\nexport const SET_COLLAPSE_OPEN ='[funnel] SET_COLLAPSE_OPEN'\r\nexport const UPLOAD_IMAGE ='[funnel] UPLOAD_IMAGE'\r\nexport const CHANGE_EDIT_MODE='[funnel] CHANGE_EDIT_MODE'\r\nexport const SET_JSON_PAGE='[funnel] SET_JSON_PAGE'\r\nexport const SET_STYLE_PAGE='[funnel] SET_STYLE_PAGE'\r\nexport const SET_OPACITY_PAGE='[funnel] SET_OPACITY_PAGE'\r\nexport const CREAT_FUNNEL='[funnel] CREAT_FUNNEL'\r\nexport const GET_ALL_FUNNELS='[funnel] GET_ALL_FUNNELS'\r\nexport const SET_STYLE_IMAGE='[funnel] SET_STYLE_IMAGE'\r\n\r\nexport function setFlagToggleCon(newFlag){\r\n    return{\r\n        type:SET_IS_OPEN_CON,\r\n        payload:newFlag\r\n    }\r\n}\r\nexport function setFlagthumbtack(newFlag){\r\n    return{\r\n        type:'[funnel] SET_THUMBTACK',\r\n        payload:newFlag\r\n    }\r\n}\r\nexport function addSection(newSection){\r\n    return{\r\n        type:ADD_SECTION,\r\n        payload:newSection\r\n    }\r\n}\r\nexport function setFlagBorderParts(newFlag){\r\n    return{\r\n        type:SET_BORDER_PARTS,\r\n        payload:newFlag\r\n    }\r\n}\r\nexport function addElement(newElement){\r\n    return{\r\n        type:ADD_ELEMENT,\r\n        payload:newElement\r\n    }\r\n}\r\nexport function setValueElement(nv){\r\n    return{\r\n        type:SET_VALUE_ELEMENT,\r\n        payload:nv\r\n    }\r\n}\r\nexport function moveElementInPart(ob){\r\n    return{\r\n        type:MOVE_ELEMENT_IN_PART,\r\n        payload:ob\r\n    }\r\n}\r\nexport function removeSection(index){\r\n    return{\r\n        type:REMOVE_SECTION,\r\n        payload:index\r\n    }\r\n}\r\nexport function removeElement(index){\r\n    return{\r\n        type:REMOVE_ELEMENT,\r\n        payload:index\r\n    }\r\n}\r\nexport function elementInEditing(id){\r\n    return{\r\n        type:ELEMENT_IN_EDITING,\r\n        payload:id\r\n    }\r\n}\r\nexport function sectionInEditing(indexSection){\r\n    return{\r\n        type:'[funnel] SECTION_IN_EDITING',\r\n        payload:indexSection\r\n    }\r\n}\r\nexport function setStyleSection(o){\r\n    return{\r\n        type:'[funnel] SET_STYLE_SECTION',\r\n        payload:o\r\n    }\r\n}\r\nexport function setCollapseOpen(collapse,id){\r\n    return{\r\n        type:SET_COLLAPSE_OPEN,\r\n        collapse:collapse,\r\n        id:id\r\n    }\r\n}\r\n\r\nexport function getJson(){\r\n    return{\r\n        type:'GET_JSON'\r\n    }\r\n}\r\nexport function uploadImage(file){\r\n    return{\r\n        type:UPLOAD_IMAGE,\r\n        payload:file\r\n    }\r\n}\r\nexport function chageEditMode(nf){\r\n    return{\r\n        type:CHANGE_EDIT_MODE,\r\n        payload:nf\r\n    }\r\n}\r\nexport function setJsonPage(json){\r\n    return{\r\n        type:SET_JSON_PAGE,\r\n        payload:json\r\n    }\r\n}\r\n\r\nexport function setStylePage(obj){\r\n    return{\r\n        type:SET_STYLE_PAGE,\r\n        payload:obj\r\n    }\r\n}\r\nexport function setOpacityPage(value){\r\n    return{\r\n        type:SET_OPACITY_PAGE,\r\n        payload:value\r\n    }\r\n}\r\nexport function creatFunnel(){\r\n    return{\r\n        type:CREAT_FUNNEL,\r\n    }\r\n}\r\nexport function updateFunnel(){\r\n    return{\r\n        type:'[funnel] UPDATE_FUNNEL',\r\n    }\r\n}\r\nexport function getAllFunnel(){\r\n    return{\r\n        type:'[funnel] GET_ALL_FUNNELS'\r\n    }\r\n}\r\nexport function getUid(){\r\n    return{\r\n        type:'[user] GET_UID_BY_USER_NAME',\r\n    }\r\n}\r\nexport function setUid(nId){\r\n    return{\r\n        type:'[user] SET_USER_ID',\r\n        payload:nId\r\n    }\r\n}\r\nexport function getFunnel(){\r\n    return{\r\n        type: '[user] GET_FUNNEL'\r\n    }\r\n}\r\nexport function setNamePage(value){\r\n    return{\r\n        type:'[funnel] SET_NAME_PAGE',\r\n        payload:value\r\n    }\r\n}\r\nexport function setStyleImage(ob){\r\n    return{\r\n        type:'[funnel] SET_STYLE_IMAGE',\r\n        payload:ob\r\n    }\r\n}\r\nexport function removeFunnel(value){\r\n    return{\r\n        type:'[funnel] REMOVE_FUNNEL',\r\n        payload:value\r\n    }\r\n}\r\nexport function setHrefButton(value){\r\n    return{\r\n        type:'[funnel] SET_HREF_BUTTON',\r\n        payload:value\r\n    }\r\n}\r\nexport function setAllFunnels(value){\r\n    return{\r\n        type:'[funnel] SET_ALL_FUNNELS',\r\n        payload:value\r\n    }\r\n}\r\nexport function setFlagAllFunnnels(){\r\n    return{\r\n        type:'[funnel] SET_FLAG_ALL_FUNNELS'\r\n    }\r\n}\r\nexport function uploadFile(file){\r\n    return{\r\n        type:'[funnel] UPLOAD_FILE',\r\n        payload:file\r\n    }\r\n}\r\nexport function setOrderSection(new_index,old_index){\r\n    return{\r\n        type:'[funnel] SET_ORDER_SECTION',\r\n        new_index:new_index,\r\n        old_index:old_index\r\n    }\r\n\r\n}\r\nexport function save(file){\r\n    return{\r\n        type:'[funnel] SAVE_OR_UPDATE',\r\n        payload:file\r\n    }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setStylePage, setOpacityPage, setNamePage } from '../../redux/actions/funnel.action'\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\n\r\nfunction EditPage(props) {\r\n\r\n\r\n    const { stylePage, setStylePage, opacityfromJson, namePage, setNamePage } = props\r\n    const [image, setImage] = useState(stylePage.backgroundImage ? stylePage.backgroundImage : '');\r\n    const [bgColor, SetBgColor] = useState()\r\n    // const [opacity,setOpacity]=useState('1')\r\n    // useEffect(()=>{\r\n    //     setStylePage('backgroundColor',stylePage.backgroundColor.replace(/[\\d\\.]+\\)$/g, opacity));\r\n\r\n    // },[opacity])\r\n    useEffect(() => {\r\n        SetBgColor(RGBAToHexA(stylePage.backgroundColor))\r\n    }, [stylePage])\r\n\r\n    const setColor = (value) => {\r\n        var hex = value.replace('#', '');\r\n\r\n        if (hex.length === 3) {\r\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n        }\r\n\r\n        var r = parseInt(hex.substring(0, 2), 16),\r\n            g = parseInt(hex.substring(2, 4), 16),\r\n            b = parseInt(hex.substring(4, 6), 16);\r\n\r\n        setStylePage('backgroundColor', 'rgba(' + r + ',' + g + ',' + b + ',' + opacityfromJson + ')');\r\n    }\r\n    const setOpacity = (value) => {\r\n        // setOpacityPage(value)\r\n        setStylePage('backgroundColor', stylePage.backgroundColor.replace(/[\\d\\.]+\\)$/g, value + ')'));\r\n    }\r\n    const changeImgOnClick = () => {\r\n        $('#inputFileImage').trigger('click')\r\n    }\r\n    const chooseImg = (e) => {\r\n        const files = Array.from(e.target.files)\r\n        console.log(\"files:\", files)\r\n        handleFiles(files)\r\n\r\n    }\r\n    const validateFile = (file) => {\r\n        const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/x-icon'];\r\n        if (validTypes.indexOf(file.type) === -1) {\r\n\r\n            return false;\r\n        }\r\n        console.log(\"yes\")\r\n        return true;\r\n    }\r\n    const handleFiles = async (files) => {\r\n        console.log(files[0])\r\n        if (validateFile(files[0])) {\r\n            // setFile(!file)\r\n\r\n            const myFile = new FormData()\r\n            myFile.append(\"file\", files[0])\r\n            console.log(myFile.get('file'))\r\n            // console.log(image)\r\n            console.log(files)\r\n            // openImageModal(files[0])\r\n\r\n            //  await props.uploadImage(myFile).then((url) => {\r\n            //     console.log(url);\r\n            // })\r\n\r\n\r\n\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"https://files.leader.codes/api/\" + \"WzM020nw4TgcAo1XIyl94g0Z0152\" + \"/upload\",\r\n                headers: {\r\n                    Authorization: 'view'\r\n                },\r\n\r\n                data: myFile,\r\n                processData: false,\r\n                contentType: false,\r\n                success: await function (data) {\r\n                    console.log(data);\r\n                    // data.data ?\r\n                    setStylePage('backgroundSize', '100% 100%')\r\n\r\n                    setStylePage('backgroundImage', data.data.url)\r\n                    setImage(data.data.url)\r\n                    // : alert('error')\r\n                    // return data.data.url\r\n                    // resolve(data.data.url)\r\n                },\r\n                error: await function (err) {\r\n                    alert(err);\r\n                    // return false\r\n                    // resolve(false)\r\n                },\r\n\r\n            });\r\n\r\n        };\r\n    }\r\n\r\n    // const bgColorPage=stylePage.backgroundColor\r\n\r\n    function RGBAToHexA(rgba) {\r\n\r\n        let r = (+rgba[0]).toString(16),\r\n            g = (+rgba[1]).toString(16),\r\n            b = (+rgba[2]).toString(16),\r\n            a = Math.round(+rgba[3] * 255).toString(16);\r\n\r\n        if (r.length == 1)\r\n            r = \"0\" + r;\r\n        if (g.length == 1)\r\n            g = \"0\" + g;\r\n        if (b.length == 1)\r\n            b = \"0\" + b;\r\n        if (a.length == 1)\r\n            a = \"0\" + a;\r\n        console.log(\"#\" + r + g + b + a)\r\n        return \"#\" + r + g + b + a;\r\n\r\n\r\n    }\r\n    const changeDir = (dir) => {\r\n        console.log(dir)\r\n        setStylePage('direction', dir)\r\n    }\r\n    return (\r\n        <div className=\"card button_collapse p-0\">\r\n            <div className=\"card-header p-0\" id=\"headingOne\">\r\n                <h5 className=\"m-0\">\r\n                    <button className=\"btn btn-link d-flex justify-content-between p-0 px-1  align-items-center\" data-toggle=\"collapse\"\r\n                        data-target=\"#collapseOne\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\r\n                        Page Setting <span className=\"material-icons align-middle arrow-collapse\">\r\n                            keyboard_arrow_right\r\n        </span>\r\n                    </button>\r\n\r\n                </h5>\r\n            </div>\r\n            <div id=\"collapseOne\" className=\"collapse\" name=\"0\" aria-labelledby=\"headingOne\"\r\n                data-parent=\"#accordion\">\r\n                <div id=\"pageSetting-body\" className=\"card-body p-2\">\r\n                    <label for=\"\">Name</label>\r\n                    <input type=\"text\" className=\"form-control input\" value={namePage} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setNamePage(e.target.value)} />\r\n                    <label for=\"\">Aligment</label>\r\n                    <div>\r\n                        <span class=\"material-icons\" onClick={() => changeDir('left')}>\r\n                            format_align_left\r\n</span>\r\n                        <span class=\"material-icons\" onClick={() => changeDir('right')}>\r\n                            format_align_right\r\n</span>\r\n                    </div>\r\n\r\n                    <label for=\"\">Page Background Color</label>\r\n                    <input type=\"color\" className=\"form-control input\" defaultValue={stylePage.backgroundColor} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setColor(e.target.value)} />\r\n                    <label for=\"\">Page Background Opacity</label>\r\n                    <input type=\"range\" className=\"slider\" defaultValue={stylePage.backgroundColor.replace(/^.*,(.+)\\)/, '$1')} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setOpacity(e.target.value)} min=\"0\" max=\"0.99\" step=\"0.0001\" />\r\n\r\n                    <label for=\"\">Page Background Image</label>\r\n                    <input type=\"file\" id=\"inputFileImage\" className=\"form-control \" style={{ display: 'none' }} onChange={(e) => chooseImg(e)} />\r\n                    <div onClick={() => changeImgOnClick()} className=\"col-md-10\" style={image ? { height: '60px', backgroundColor: 'red', backgroundSize: '100% 100%', backgroundImage: `url(${image})` } : { height: '60px', backgroundColor: 'red' }}></div>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            stylePage: state.funnel.jsonPage.settings.style,\r\n            opacityfromJson: state.funnel.jsonPage.settings.opacity,\r\n            namePage: state.funnel.jsonPage.name\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setStylePage: (property, newValue) => { dispatch(setStylePage({ property: property, value: newValue })) },\r\n            setOpacityPage: (newValue) => { dispatch(setOpacityPage(newValue)) },\r\n            setNamePage: (newName) => { dispatch(setNamePage(newName)) }\r\n        }\r\n    }\r\n)(EditPage) ","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { removeSection ,setStyleSection} from '../../redux/actions/funnel.action'\r\n\r\n\r\n\r\nfunction EditSection(props) {\r\n    const { sectionInEditing, arrSections, indexSectionInEditing,setStyleSection } = props\r\n    // const [editSection, setEditSection] = useState(arrSection[indexSectionInEditing])\r\n    const setColor = (value) => {\r\n        var hex = value.replace('#', '');\r\n\r\n        if (hex.length === 3) {\r\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n        }\r\n\r\n        var r = parseInt(hex.substring(0, 2), 16),\r\n            g = parseInt(hex.substring(2, 4), 16),\r\n            b = parseInt(hex.substring(4, 6), 16);\r\n\r\n        setStyleSection(indexSectionInEditing, 'backgroundColor', 'rgba(' + r + ',' + g + ',' + b + ',' + 1+ ')');\r\n    }\r\n    const setOpacity = (value) => {\r\n        // setOpacityPage(value)\r\n        setStyleSection(indexSectionInEditing,'backgroundColor', arrSections[indexSectionInEditing].settings.style.backgroundColor.replace(/[\\d\\.]+\\)$/g, value + ')'));\r\n    }\r\n\r\n    return (\r\n        <div className=\"card button_collapse p-0\">\r\n            <div className=\"card-header p-0\" id=\"headingOne\">\r\n                <h5 className=\"m-0\">\r\n                    <button className=\"btn btn-link d-flex justify-content-between p-0 px-1  align-items-center\" data-toggle=\"collapse\"\r\n                        data-target=\"#collapseSection\" aria-expanded=\"false\" aria-controls=\"collapseSection\">\r\n                        Section Setting\r\n                        <span className=\"material-icons align-middle arrow-collapse\">\r\n                            keyboard_arrow_right\r\n                        </span>\r\n                    </button>\r\n\r\n                </h5>\r\n            </div>\r\n            <div id=\"collapseSection\" className=\"collapse show\" name=\"0\" aria-labelledby=\"headingOne\"\r\n                data-parent=\"#accordion\">\r\n                <div id=\"pageSetting-body\" className=\"card-body p-2\">\r\n\r\n\r\n                    <label for=\"\">Page Background Color</label>\r\n                    <input type=\"color\" className=\"form-control input\" defaultValue={arrSections&&arrSections[indexSectionInEditing].settings.style.backgroundColor} onChange={(e) => setColor(e.target.value)} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" />\r\n                    <label for=\"\">Page Background Opacity</label>\r\n                    <input type=\"range\" className=\"slider\" id=\"\" defaultValue={arrSections&&arrSections[indexSectionInEditing].settings.style.opacity} data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" min=\"0\" max=\"0.99\" step=\"0.0001\" onChange={(e) => setOpacity(e.target.value)} />\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            indexSectionInEditing: state.funnel.indexSectionInEditing,\r\n            arrSections: state.funnel.jsonPage.arrSections\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setStyleSection: (indexSection,property,value) => { dispatch(setStyleSection({ indexSection: indexSection, property: property, value: value })) }\r\n        }\r\n    }\r\n\r\n)\r\n    (EditSection)","export const ItemTypes = {\r\n    BOX: 'box',\r\n    EL:'el'\r\n  }\r\n  ","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { removeSection } from '../../redux/actions/funnel.action'\r\nimport { removeElement, elementInEditing,setCollapseOpen } from '../../redux/actions/funnel.action'\r\nimport './elementEditButtons.css'\r\n\r\n\r\nfunction EelementEditButtons(props) {\r\n    const {id,removeElement, elementInEditing,setCollapseOpen}=props\r\n    return (\r\n        <>\r\n        <div className=\"divEditButtons\">\r\n                    <span className=\"material-icons\" onClick={() => removeElement(id)}>\r\n                        delete\r\n                    </span>\r\n                    <span className=\"material-icons\" onClick={() => setCollapseOpen('element',id)} >\r\n                            create\r\n                    </span></div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    undefined,\r\n    (dispatch) => {\r\n        return {\r\n            removeElement: function (id) { dispatch(removeElement({ id: id })) },\r\n            elementInEditing: function (id) { dispatch(elementInEditing({ id: id })) },\r\n            setCollapseOpen:function (collapse,id){dispatch(setCollapseOpen(collapse,id)) }\r\n        }\r\n    }\r\n)\r\n(EelementEditButtons)","import React, { useState, useRef } from 'react';\r\nimport { useDropzone, onDragOver } from 'react-dropzone'\r\nimport './image.css'\r\nimport { connect } from 'react-redux';\r\nimport { uploadImage,setValueElement,setStyleImage } from '../../redux/actions/funnel.action'\r\nimport $ from \"jquery\";\r\n\r\n\r\nfunction ImageUploader(props) {\r\n    const modalImageRef = useRef();\r\n    const modalRef = useRef();\r\n    const { element ,setValueElement,setStyleImage} = props\r\n    const [image, setImage] = useState(element.value ? element.value : '');\r\n    // const [image, setImage] = useState('https://res.cloudinary.com/css-tricks/image/fetch/w_600,q_auto,f_auto/https://cdn4.buysellads.net/uu/7/72681/1600375513-MC_CSSTricks_Logo_600x600.png');\r\n\r\n    const [file, setFile] = useState(false);\r\n    const [selectedFiles, setSelectedFiles] = useState([]);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n\r\n    const dragOver = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const dragEnter = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const dragLeave = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const fileDrop = (e) => {\r\n        e.preventDefault();\r\n        const files = e.dataTransfer.files;\r\n        console.log(e);\r\n        if (files.length) {\r\n            // (setImage(\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Casetta_SVG.svg/250px-Casetta_SVG.svg.png\"))\r\n            // handleFiles(files);\r\n            // setValueElement(\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Casetta_SVG.svg/250px-Casetta_SVG.svg.png\")\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n    const handleFiles = async (files) => {\r\n        console.log(files[0])\r\n        if (validateFile(files[0])) {\r\n            setFile(!file)\r\n\r\n            const myFile = new FormData()\r\n            myFile.append(\"file\", files[0])\r\n            console.log(myFile.get('file'))\r\n            console.log(image)\r\n            console.log(files)\r\n            // openImageModal(files[0])\r\n\r\n            //  await props.uploadImage(myFile).then((url) => {\r\n            //     console.log(url);\r\n            // })\r\n         \r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"https://files.leader.codes/api/\" + \"WzM020nw4TgcAo1XIyl94g0Z0152\" + \"/upload\",\r\n                headers: {\r\n                    Authorization: 'view'\r\n                },\r\n\r\n                data: myFile,\r\n                processData: false,\r\n                contentType: false,\r\n                success: await function (data) {\r\n                    console.log(data);\r\n                    data.data ?\r\n                    console.log(data.data.url)\r\n                        ( kk(data.data.url))\r\n                        : alert('error')\r\n                    // return data.data.url\r\n                    // resolve(data.data.url)\r\n                },\r\n                error: await function (err) {\r\n                    alert(err);\r\n                    // return false\r\n                    // resolve(false)\r\n                },\r\n\r\n            });\r\n\r\n        };\r\n    }\r\n\r\n\r\n    // const openImageModal = (file) => {\r\n    //     const reader = new FileReader();\r\n    //     modalRef.current.style.display = \"block\";\r\n    //     reader.readAsDataURL(file);\r\n    //     debugger\r\n    //     modalImageRef.current.style.backgroundImage = `url(${file})`;\r\n    //     reader.onload = function(e) {\r\n    //         modalImageRef.current.style.backgroundImage = `url(${e.target.result})`;\r\n    //     }\r\n\r\n    // }\r\n\r\n    const validateFile = (file) => {\r\n        const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/x-icon'];\r\n        if (validTypes.indexOf(file.type) === -1) {\r\n\r\n            return false;\r\n        }\r\n        console.log(\"yes\")\r\n        return true;\r\n    }\r\n    const changeImgOnClick = () => {\r\n        $('#inputFileImg').trigger('click')\r\n    }\r\n    const chooseImg = (e) => {\r\n        const files = Array.from(e.target.files)\r\n        console.log(\"files:\", files)\r\n        // (setImage(\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Casetta_SVG.svg/250px-Casetta_SVG.svg.png\"))\r\n        // setValueElement(\"https://static.wixstatic.com/media/a934fb_021005256c0c472e8001edda3facc84e~mv2.jpg/v1/fill/w_1000,h_1000,al_c,q_85/a934fb_021005256c0c472e8001edda3facc84e~mv2.jpg\")\r\n        // setStyleImage('width','100%')\r\n        // setStyleImage('height','400px')\r\n        // setStyleImage('opacity','0.99')\r\n\r\n        // kk(\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Casetta_SVG.svg/250px-Casetta_SVG.svg.png\")\r\n        handleFiles(files)\r\n\r\n    }\r\n    const kk=(val)=>{\r\n        setValueElement(val)\r\n        setStyleImage('width','100%')\r\n        setStyleImage('height','400px')\r\n        setStyleImage('opacity','0.99')\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <input type=\"file\" id=\"inputFileImg\" className=\"d-none\" onChange={(e) => chooseImg(e)}></input>\r\n            <div className=\"content\" onClick={() => changeImgOnClick()}>\r\n                <div className=\"container p-0\">\r\n                    <div className=\"drop-container col-12 p-0\" onDragOver={dragOver}\r\n                        onDragEnter={dragEnter}\r\n                        onDragLeave={dragLeave}\r\n                        onDrop={fileDrop}\r\n                    >\r\n\r\n                        <div className=\"align-items-center d-flex drop-message flex-column\">\r\n\r\n                            <div className=\"upload-icon\"> </div>\r\n                            {element.value ? <img src={element.value} style={element.settings} alt=\"aaaaaa\" /> :\r\n                                <>\r\n                                    <span class=\"material-icons-outlined\" style={{ fontSize: '5rem' }} >\r\n                                        panorama\r\n                             </span>\r\n                                    <p className=\"m-0 text-center\">Drag & Drop files here or click to upload</p>\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <div className=\"modal\"  ref={modalRef}>\r\n    <div className=\"overlay\"></div>\r\n    <span className=\"close\">X</span>\r\n    <div className=\"modal-image\" ref={modalImageRef}></div>\r\n</div> */}\r\n\r\n        </div>\r\n        // </div>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    undefined,\r\n    (dispatch) => {\r\n        return {\r\n            setValueElement: (newValue) => { dispatch(setValueElement({ value: newValue })) },\r\n            setStyleImage: (property, newValue) => { dispatch(setStyleImage({ property: property, value: newValue })) }}\r\n            // uploadImage: (files) => { dispatch(uploadImage(files)) }\r\n        }\r\n    \r\n)(ImageUploader);","import React, { useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './element.css'\r\nimport { useDrag, useDrop } from 'react-dnd';\r\nimport { setValueElement, moveElementInPart, removeElement, elementInEditing, setCollapseOpen } from '../../redux/actions/funnel.action'\r\nimport { ItemTypes } from '../../ItemTypes'\r\nimport EelementEditButtons from '../elementsEditButtons/elementEditButtons'\r\nimport ReactQuill, { Quill, Mixin, Toolbar } from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport 'react-quill/dist/quill.bubble.css';\r\nimport ImageUploader from '../image/image';\r\nimport $ from \"jquery\";\r\n\r\n// import Parser from 'html-react-parser';\r\n// import PanoramaIcon from '@material-ui/icons/Panorama';\r\n// import Icon from '@material-ui/core/Icon';\r\n\r\n\r\n\r\n\r\nfunction Element(props) {\r\n    const { elementInEditing, removeElement, currentKey, element, editMode, section, part, id, setCollapseOpen } = props\r\n    // let id='qq'\r\n    // const ref = React.createRef();\r\n    const Quill = ReactQuill.Quill\r\n    var Font = Quill.import('formats/font');\r\n    Font.whitelist = ['Ubuntu', 'Raleway', 'Roboto'];\r\n    Quill.register(Font, true);\r\n\r\n    const ref = useRef(null);\r\n    const [, drop] = useDrop({\r\n        accept: ItemTypes.EL,\r\n        hover(item, monitor) {\r\n            if (!ref.current) {\r\n                return;\r\n            }\r\n            const dragIndex = item.currentKey;\r\n            const hoverIndex = currentKey;\r\n            // Don't replace items with themselves\r\n            if (dragIndex === hoverIndex) {\r\n                return;\r\n            }\r\n            // Determine rectangle on screen\r\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n            // Get vertical middle\r\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n            // Determine mouse position\r\n            const clientOffset = monitor.getClientOffset();\r\n            // Get pixels to the top\r\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n            const source = monitor.getItem();\r\n            // Only perform the move when the mouse has crossed half of the items height\r\n            // When dragging downwards, only move when the cursor is below 50%\r\n            // When dragging upwards, only move when the cursor is above 50%\r\n            // Dragging downwards\r\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n                return;\r\n            }\r\n            // Dragging upwards\r\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n                return;\r\n            }\r\n            // Time to actually perform the action\r\n            console.log(`dragIndex: ${dragIndex},hoverIndex: ${hoverIndex} ,hoverClientY: ${hoverClientY} ,hoverMiddleY: ${hoverMiddleY}`,)\r\n\r\n            // moveCard(dragIndex, hoverIndex);\r\n            props.moveElementInPart(dragIndex, hoverIndex)\r\n\r\n\r\n            // Note: we're mutating the monitor item here!\r\n            // Generally it's better to avoid mutations,\r\n            // but it's good here for the sake of performance\r\n            // to avoid expensive index searches.\r\n            item.index = hoverIndex;\r\n        },\r\n    });\r\n    const [{ isDragging }, drag] = useDrag({\r\n        item: { type: ItemTypes.EL, id, currentKey },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging(),\r\n            //   console.log(drag);\r\n\r\n        }),\r\n    });\r\n    const opacity = isDragging ? 0 : 1;\r\n    drag(drop(ref));\r\n\r\n    const setValue = (newValue) => {\r\n        console.log(this);\r\n        console.log(currentKey);\r\n        console.log(id)\r\n        props.setValueElement(newValue)\r\n    }\r\n    function onInputText(e) {\r\n        e.currentTarget\r\n            .width(300)\r\n            .height(50)\r\n            .width(this.scrollWidth)\r\n            .height(this.scrollHeight)\r\n\r\n        elementInEditing(id)\r\n\r\n    }\r\n\r\n    function onEnterElement() {\r\n        setCollapseOpen('element')\r\n        elementInEditing(id)\r\n    }\r\n    switch (element.type) {\r\n        case \"Title\":\r\n        case \"Text\":\r\n            return (\r\n                <>\r\n                    {/* <div dangerouslySetInnerHTML={{__html:element.value}}/>\r\n                  {   Parser(element.value)} */}\r\n\r\n                    <div>\r\n              \r\n                        {/* {editMode && <EelementEditButtons id={element.id}></EelementEditButtons>} */}\r\n                        <div className={editMode &&\"hoverToEdit\"}>\r\n                       { editMode && <div className='edit_buttons_element'>\r\n                            <span class=\"material-icons\" style={{ zIndex: 3, fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                                delete\r\n                </span>\r\n                            {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                        </div>}\r\n                        <ReactQuill className='col-12 text-center'\r\n                            onFocus={() => onEnterElement()}\r\n                            readOnly={!editMode}\r\n                            style={{ zIndex: 10 }}\r\n                            value={element.value}\r\n                            bounds={$(\"#editor\")[0]}\r\n\r\n                            onChange={setValue}\r\n                            theme=\"bubble\"\r\n                            modules={{\r\n\r\n                                toolbar: [\r\n                                    [{ 'header': [1, 2, 3, false] }, { 'size': [] }],\r\n                                    ['bold', 'italic', 'underline', 'strike', 'blockquote', { 'color': [] }, { 'background': [] }, { 'font': [] }],\r\n                                    [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'indent': '-1' }, { 'indent': '+1' }, { 'align': [] }],\r\n                                    ['link'],\r\n                                    ['clean']\r\n                                ]\r\n                                /* ... other modules */\r\n                            }} /></div></div>\r\n\r\n\r\n                </>\r\n            )\r\n\r\n        case \"Image\":\r\n            return (\r\n                <><div className={editMode &&\"hoverToEdit\"}>\r\n        {  editMode &&          <div className='edit_buttons_element'>\r\n                        <span class=\"material-icons\" style={{ zIndex: 3, fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                            delete\r\n                </span>\r\n                        {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n                    \r\n                    <div  className={element.value ?\"d-flex flex-column align-items-center justify-content-center m-2  y\":'d-flex flex-column align-items-center justify-content-center m-2 y divEmptyElement'}\r\n                        // onFocus={() => setCollapseOpen('element')}\r\n                        onClick={() => onEnterElement()}>\r\n                        {/* {element.value && <div onClick={() => onEnterElement()}\r\n                            className=\"d-flex flex-column align-items-center divEmptyElement justify-content-center m-2\">\r\n                            <span class=\"material-icons-outlined\" style={{ fontSize: '5rem' }} >\r\n                                panorama\r\n                             </span>\r\n                            <p className=\"m-0 text-center\">Drag & Drop files here or click to upload</p>\r\n                        </div>\r\n\r\n                        } */}\r\n                        <ImageUploader element={element}></ImageUploader>\r\n                    </div>\r\n\r\n\r\n                    {/* <img style={{ width: '30%' }} src={element.value}></img> */}\r\n                    </div>\r\n                </>\r\n            )\r\n        case 'Video':\r\n            return (\r\n                <>\r\n                <div className={editMode &&\"hoverToEdit\"}>\r\n\r\n                 { editMode &&  <div className='edit_buttons_element'>\r\n                        <span class=\"material-icons\" style={{ zIndex: 3, fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                            delete\r\n                </span>\r\n                        {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n                    {/* <div className=\"d-flex flex-column align-items-center \" style={{ backgroundColor: '#d0c7c7' }} onFocus={() => setCollapseOpen('element')}\r\n                        onClick={() => onEnterElement()}> */}\r\n                    {element.value ? (editMode ? <img className=\"col-12\" src={`https://img.youtube.com/vi/${element.value.replace('https://www.youtube.com/watch?v=', '')}/hqdefault.jpg`} onClick={() => onEnterElement()}></img> :\r\n                        <iframe className=\"col-12\" src={element.value.replace(\"watch?v=\", \"embed/\")} frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>)\r\n                        :\r\n                        <div onClick={() => onEnterElement()}\r\n                            className=\"d-flex flex-column align-items-center divEmptyElement justify-content-center m-2\"\r\n                        // onFocus={() => setCollapseOpen('element')}\r\n                        > <span class=\"material-icons\" style={{ fontSize: '5rem' }}>\r\n                                play_circle_outline\r\n                        </span>\r\n                            <p className=\"m-0 text-center\">Add Url Video</p>\r\n                        </div>\r\n                    }\r\n\r\n                    {/* // src=\"https://img.youtube.com/vi/Ke90Tje7VS0/hqdefault.jpg\" */}\r\n                    {/* https://www.youtube.com/embed/Ke90Tje7VS0 */}\r\n\r\n                    {/* </div> */}\r\n                    </div>\r\n                </>\r\n            )\r\n        case 'Form':\r\n            return (\r\n                <>\r\n                  <div className={editMode &&\"hoverToEdit\"}>\r\n            {  editMode   &&  <div className='edit_buttons_element'>\r\n                <span class=\"material-icons\" style={{ zIndex: 3,fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                    delete\r\n                </span>\r\n                {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n                    {element.value ? <iframe onClick={() => onEnterElement()} width=\"100%\" height=\"315\" src={element.value} frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe> :\r\n                        <div onClick={() => onEnterElement()} className=\"d-flex flex-column align-items-center justify-content-center m-2 divEmptyElement\"\r\n                        > <span class=\"material-icons\" style={{ fontSize: '5rem' }}>\r\n                                description\r\n                        </span>\r\n                            <p className=\"m-0 text-center\">Add Url Form</p>\r\n                        </div>}\r\n\r\n                        </div>\r\n                </>\r\n            )\r\n        case 'Html':\r\n            return (\r\n                <>\r\n                  <div className={editMode &&\"hoverToEdit\"}>\r\n                        {editMode && <div className='edit_buttons_element'>\r\n                <span class=\"material-icons\" style={{ zIndex: 3,fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                    delete\r\n                </span>\r\n                {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n                    <div onClick={() => onEnterElement()}>\r\n                        {element.value ? <div dangerouslySetInnerHTML={{ __html: element.value }} /> :\r\n                            <p>ADD HTML CODE</p>}\r\n                    </div>\r\n                    </div></>\r\n            )\r\n        case 'Button':\r\n            return (\r\n                <>\r\n                  <div className={editMode &&\"hoverToEdit\"}>\r\n                       { editMode && <div className='edit_buttons_element'>\r\n                <span class=\"material-icons\" style={{ zIndex: 3,fontSize: '1.2rem' }} onClick={() => removeElement(id)}>\r\n                    delete\r\n                </span>\r\n                {/* <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => setCollapseOpen('section')} >\r\n                    create\r\n                    </span> */}\r\n                    </div>}\r\n\r\n                    <div className='d-flex'>\r\n                        <a target=\"_blank\" className='col-10 m-auto' href={editMode ? null : element.href ? element.href : null}>\r\n                            <button onClick={() => onEnterElement()} className=\"btn col-12 p-0\" style={element.style, { backgroundColor: '#9b9191' }}>\r\n                                <ReactQuill className='col-12 text-center p-0'\r\n                                    onFocus={() => onEnterElement()}\r\n                                    readOnly={!editMode}\r\n                                    style={{ zIndex: 10 }}\r\n                                    value={element.value}\r\n                                    bounds={$(\"#editor\")[0]}\r\n\r\n                                    onChange={setValue}\r\n                                    theme=\"bubble\"\r\n                                    modules={{\r\n\r\n                                        toolbar: [\r\n                                            [{ 'header': [1, 2, 3, false] }, { 'size': [] }],\r\n                                            ['bold', 'italic', 'underline', 'strike', 'blockquote', { 'color': [] }, { 'background': [] }, { 'font': [] }],\r\n                                            [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'indent': '-1' }, { 'indent': '+1' }, { 'align': [] }],\r\n                                            ['link'],\r\n                                            ['clean']\r\n                                        ]\r\n                                        /* ... other modules */\r\n                                    }}\r\n                                />\r\n\r\n\r\n\r\n                            </button></a>\r\n                    </div>\r\n                    </div> </>\r\n            )\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            editMode: state.funnel.editMode\r\n\r\n        }\r\n    }\r\n    ,\r\n    (dispatch) => {\r\n        return {\r\n            // changeFlagConfigurator: function (newFlag) { dispatch(setFlagToggleCon(newFlag)) }\r\n            setValueElement: (newValue) => { dispatch(setValueElement({ value: newValue })) },\r\n            // setValueElement: (section, part, element, newValue) => { dispatch(setValueElement({ section: section, part: part, element: element, newValue: newValue })) },\r\n            moveElementInPart: function (dragIndex, hoverIndex) { dispatch(moveElementInPart({ dragIndex: dragIndex, hoverIndex: hoverIndex })) },\r\n            removeElement: function (id) { dispatch(removeElement({ id: id })) },\r\n            elementInEditing: function (id) { dispatch(elementInEditing({ id: id })) },\r\n            setCollapseOpen: function (collapse) { dispatch(setCollapseOpen(collapse)) }\r\n        }\r\n    }\r\n\r\n)(Element)","import React from 'react';\r\nimport Element from '../element/element'\r\nimport { connect } from 'react-redux';\r\nimport { setValueElement } from '../../redux/actions/funnel.action'\r\n\r\n\r\n\r\nfunction EditHtmlElement(props) {\r\n    const {setValueElement,thisElement}=props\r\n    return (\r\n        <>\r\n        <label for=\"\">HTML code</label>\r\n        <textarea className=\"form-control input\" value={thisElement.value} rows='5' id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setValueElement(e.target.value)}  /> \r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            thisElement: state.funnel.elementInEditing,\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setValueElement:(newValue)=>{dispatch(setValueElement({value:newValue}))}\r\n                }\r\n    }\r\n)(EditHtmlElement)","import React, { useState, useRef } from 'react';\r\nimport { useDropzone, onDragOver } from 'react-dropzone'\r\nimport { connect } from 'react-redux';\r\nimport { setValueElement } from '../../redux/actions/funnel.action'\r\nimport './editVideo.css'\r\n\r\nfunction EditVideo(props) {\r\n    const {videoOnEdit,setValueElement}=props\r\n    return (\r\n        <>\r\n        <label for=\"\">Fill Video</label>\r\n        <input type=\"text\" className=\"form-control input urlVideo\" value={videoOnEdit.value} id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setValueElement(e.target.value)}  /> \r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    undefined,\r\n    (dispatch) => {\r\n        return {\r\n            setValueElement:(newValue)=>{dispatch(setValueElement({value:newValue}))}\r\n                }\r\n    }\r\n)(EditVideo)","import React, { useState, useRef } from 'react';\r\nimport { useDropzone, onDragOver } from 'react-dropzone'\r\nimport { connect } from 'react-redux';\r\nimport { setValueElement,setStyleImage, elementInEditing } from '../../redux/actions/funnel.action'\r\nimport './editImg.css'\r\n\r\nfunction EditImg(props) {\r\n    const {styleImage,element,ImgOnEdit,setValueElement,setStyleImage}=props\r\n    const setWidthImage = (value)=>{\r\n        setStyleImage('width',value+'%')\r\nconsole.log(value)\r\n    }\r\n    const setHeightImage =(value)=>{\r\n        setStyleImage('height',value+'px')\r\n    }\r\n    const  setOpacityImage=(value)=>{\r\n        setStyleImage('opacity',value)\r\n    }\r\n    return (\r\n        <>\r\n        <label for=\"\">Image width</label>\r\n          <input type=\"range\" className=\"slider\" \r\n        //   defaultValue={stylePage.backgroundColor.replace(/^.*,(.+)\\)/, '$1')}\r\n           id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" \r\n           onChange={(e) => setWidthImage(e.target.value)}\r\n            min=\"0\" max=\"100\" step=\"1\" />\r\n               <label for=\"\">Image height</label>\r\n          <input type=\"range\" className=\"slider\" \r\n        //   defaultValue={styleImage.height.replace('px','')}\r\n           id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" \r\n           onChange={(e) => setHeightImage(e.target.value)}\r\n            min=\"0\" max=\"800\" step=\"1\" />\r\n        {/* <label for=\"\">size</label>\r\n        <input type=\"text\" className=\"form-control input \" value=\"\" id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\"   />  */}\r\n        <label for=\"\">Image transparency</label>\r\n        <input type=\"range\" className=\"slider\" id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" defaultValue={styleImage.opacity} placeholder=\"\" min=\"0\" max=\"0.99\" step=\"0.0001\"\r\n         onChange={(e) => setOpacityImage(e.target.value)} />\r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            styleImage: state.funnel.elementInEditing.settings\r\n        \r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {           \r\n             setStyleImage: (property, newValue) => { dispatch(setStyleImage({ property: property, value: newValue })) }}\r\n\r\n            // setStyleImage:(property,newValue)=>{dispatch(setStyleImage({property:property,value:newValue}))}\r\n            //     }\r\n    }\r\n)(EditImg)","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setValueElement } from '../../redux/actions/funnel.action'\r\n\r\nfunction EditForm(props) {\r\n    const {formOnEdit,setValueElement,nameUser}=props\r\n    return (\r\n        <>\r\n        <label for=\"\">Fill Form</label>\r\n        <input type=\"text\" className=\"form-control input urlForm\" id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setValueElement(e.target.value)}  /> \r\n        <a target=\"_blank\" href={`https://forms.dev.leader.codes/${nameUser}/new`}><button className=\"btn mt-3\" style={{backgroundColor:\"rgb(137, 140, 143)\",fontSize:\"0.8rem\",color:''}}>Beyond the form system</button></a>\r\n\r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            nameUser: state.user.userName,\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setValueElement:(newValue)=>{dispatch(setValueElement({value:newValue}))}\r\n                }\r\n    }\r\n)(EditForm)","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setHrefButton } from '../../redux/actions/funnel.action'\r\n\r\nfunction EditButton(props) {\r\n    const {formOnEdit,setHrefButton}=props\r\n    return (\r\n        <>\r\n        <label for=\"\">add url</label>\r\n        <input type=\"text\" className=\"form-control input \" id=\"\" data-toggle=\"tooltip\" data-placement=\"bottom\" placeholder=\"\" onChange={(e) => setHrefButton(e.target.value)}  /> \r\n   </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    undefined,\r\n    (dispatch) => {\r\n        return {\r\n            setHrefButton:(newValue)=>{dispatch(setHrefButton({value:newValue}))}\r\n                }\r\n    }\r\n)(EditButton)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { removeSection } from '../../redux/actions/funnel.action'\r\nimport EditHtmlElement from '../editHtmlElement/editHtmlElement';\r\nimport EditVideo from '../editVideo/editVideo'\r\nimport EditImg from '../editImage/editImg'\r\nimport EditForm from '../editForm/editForm';\r\nimport Editbutton from '../editButton/editbutton';\r\n\r\nfunction EditElement(props) {\r\n    const {elementInEditing}=props\r\n    return (\r\n        <div className=\"card button_collapse p-0\">\r\n                            <div className=\"card-header p-0\" id=\"headingTwo\">\r\n                                <h5 className=\"m-0\">\r\n                                    <button className=\"btn btn-link d-flex justify-content-between p-0 px-1  align-items-center\" data-toggle=\"collapse\"\r\n                                        data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\r\n                                        Editing {elementInEditing.type} <span className=\"material-icons align-middle arrow-collapse\">\r\n                                            keyboard_arrow_right\r\n                                    </span>\r\n                                    </button>\r\n\r\n                                </h5>\r\n                            </div>\r\n                            <div id=\"collapseTwo\" className=\"collapse show\" name=\"1\" aria-labelledby=\"headingTwo\"\r\n                                data-parent=\"#accordion\">\r\n                                <div id=\"EditingElement-body\" className=\"card-body p-2 \">\r\n                           \r\n                                   {elementInEditing.type==\"Video\"&& <EditVideo videoOnEdit={elementInEditing}></EditVideo>}\r\n                                   {elementInEditing.type==\"Image\"&& <EditImg ImgOnEdit={elementInEditing}></EditImg>}\r\n                                  \r\n                                   {elementInEditing.type==\"Html\"&& <EditHtmlElement></EditHtmlElement>}\r\n                                   {elementInEditing.type==\"Form\"&& <EditForm></EditForm>}\r\n                                   {elementInEditing.type==\"Button\"&& <Editbutton></Editbutton>}\r\n\r\n                                    \r\n{/*                                 \r\n                                    aaaabbb */}\r\n                                 {/* <p>{elementInEditing.type}</p> */}\r\n                                 {/* {editinigElement && <div>  <input type=\"color\" value={elementInEditing.settings.style.color}></input>\r\n                                        <input value={elementInEditing.value}></input></div> \r\n                                        }*/}\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n)\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            elementInEditing: state.funnel.elementInEditing\r\n\r\n        }\r\n    }\r\n    ,\r\n   \r\n  \r\n\r\n)(EditElement)","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './configurator.css'\r\nimport EditPage from '../editPage/editPage'\r\nimport EditSection from '../editSection/editSection'\r\nimport EditElement from '../editElement/editElement'\r\nimport { chageEditMode, creatFunnel, getAllFunnel, updateFunnel, removeFunnel, setFlagAllFunnnels, setAllFunnels, uploadFile,save } from '../../redux/actions/funnel.action'\r\nimport { useHistory, Route } from 'react-router-dom'\r\nimport html2canvas from 'html2canvas';\r\n\r\n\r\nfunction Configurator(props) {\r\n\r\n    const [flag, setFlag] = useState(false);\r\n    const history = useHistory()\r\n    const { setFlagAllFunnnels, flagCon, collapseIsOpen, elementInEditing, chageEditMode, jsonPage, creatFunnel, getAllFunnel,save, updateFunnel, removeFunnel, idPage, nameFunnel, nameUser, uploadFile ,urlPage} = props\r\n\r\n\r\n    // let color = elementInEditing.settings.style.color\r\n    function changeColor(co) {\r\n        elementInEditing.settings.style.color = co;\r\n    }\r\n    const clickAllFunnels = () => {\r\n        getAllFunnel();\r\n        setFlagAllFunnnels()\r\n    }\r\n    const clickView = () => {\r\n        // history.push('/view')\r\n\r\n        localStorage.setItem(\"json\", JSON.stringify(jsonPage));\r\n        window.open(`${urlPage}/view/${nameUser}/${nameFunnel}`)\r\n        // history.push(`/view/${nameUser}/${nameFunnel}`);\r\n\r\n        // chageEditMode()\r\n    }\r\n    const saveOrUpdatefunnel = () => {\r\n        let eventRegristration = document.querySelector('#landingPage_edit');\r\n        html2canvas(eventRegristration).then((canvas) => {\r\n            let imgData = canvas.toDataURL();\r\n            console.log(imgData);\r\n            var funnelImage = dataURLtoFile(imgData, 'event.png');\r\n            // console.log(emailImg);\r\n            // this.props.getUrlImage(emailImg);\r\n            //this.props.setEmailBody(img);\r\n            // let win = window.open();\r\n            // win.document.write(\"<img src='\"+imgData+\"'/>\");\r\n            console.log(funnelImage);\r\n            const myFile = new FormData()\r\n            myFile.append(\"file\", funnelImage[0])\r\n            save(funnelImage)\r\n            // return (funnelImage)\r\n        });\r\n    }\r\n    const dataURLtoFile = (dataurl, filename) => {\r\n        var arr = dataurl.split(','),\r\n            mime = arr[0].match(/:(.*?);/)[1],\r\n            bstr = atob(arr[1]),\r\n            n = bstr.length,\r\n            u8arr = new Uint8Array(n);\r\n\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new File([u8arr], filename, { type: mime });\r\n    }\r\n    // const saveOrUpdatefunnel = () => {\r\n    //     save(clic())\r\n    //     // await uploadFile(clic())\r\n    //     //     .then((v) => {\r\n    //             // if (v) {\r\n    //             // if (idPage)\r\n    //             //     updateFunnel()\r\n    //             // else\r\n    //             //     creatFunnel()\r\n    //             // // }\r\n    //         // }).catch(e => {\r\n    //         //     console.log(e);\r\n    //         // });\r\n    // }\r\n    return (\r\n        <>\r\n            {  flagCon &&\r\n                <div id=\"wrap-configurator\" className=\"pt-4 px-2\">\r\n                    <div id=\"head-configurator\" className=\"row d-flex justify-content-between m-0 mb-3 mt-1\">\r\n                        <span className=\"material-icons pointer\" onClick={() => clickAllFunnels()}>\r\n                            settings\r\n                 </span>\r\n\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 21.5 21.5\">\r\n                            <defs></defs>\r\n                            <path className=\"a\" d=\"M8,18.75A10.75,10.75,0,1,0,18.75,8,10.75,10.75,0,0,0,8,18.75Zm10.75,7.976V10.774a7.976,7.976,0,1,1,0,15.952Z\" transform=\"translate(-8 -8)\"></path>\r\n                        </svg>\r\n                    </div>\r\n\r\n\r\n                    <div id=\"accordion\" className=''>\r\n\r\n                        <EditPage></EditPage>\r\n\r\n                        {(() => {\r\n                            switch (collapseIsOpen) {\r\n                                case 'section':\r\n                                    return <EditSection></EditSection>\r\n                                case 'element':\r\n                                    return (elementInEditing && <EditElement></EditElement>)\r\n                                default:\r\n                                    break;\r\n                            }\r\n                        })()}\r\n                        {/* <button onClick={() => clic()}> click</button> */}\r\n\r\n                        <Route render={({ history }) => (\r\n\r\n                            <div id=\"bottom_configurtor\">\r\n                                <button className='btn' onClick={() => clickView(history)}>\r\n                                    <span class=\"material-icons iconBottom\" style={{ color: \"#cac6c6\" }}>\r\n                                        remove_red_eye\r\n                            </span>\r\n                                </button>\r\n                                {idPage && <> <button className='btn' style={{ background: '#ff5f5f' }} onClick={() => saveOrUpdatefunnel()} >update</button>\r\n                                    <button className='btn' style={{ background: '#ff5f5f' }} onClick={() => removeFunnel(\"5fd9f7b28eedc0eb8b5dea30\")} >remove</button></>\r\n                                    ||\r\n                                    <button className='btn' style={{ background: '#ff5f5f' }} onClick={() => saveOrUpdatefunnel()} >save</button>}\r\n                            </div>\r\n\r\n                        )} />\r\n\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            elementInEditing: state.funnel.elementInEditing,\r\n            collapseIsOpen: state.funnel.collapseIsOpen,\r\n            flagCon: state.funnel.isOpenConfigurator,\r\n            jsonPage: state.funnel.jsonPage,\r\n            idPage: state.funnel.idFunnel,\r\n            nameUser: state.user.userName,\r\n            nameFunnel: state.funnel.name,\r\n            urlPage:state.funnel.urlPage\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n\r\n            chageEditMode: () => { dispatch(chageEditMode()) },\r\n            creatFunnel: () => { dispatch(creatFunnel()) },\r\n            getAllFunnel: () => { dispatch(getAllFunnel()) },\r\n            updateFunnel: () => { dispatch(updateFunnel()) },\r\n            removeFunnel: (id) => { dispatch(removeFunnel(id)) },\r\n            setFlagAllFunnnels: () => { dispatch(setFlagAllFunnnels()) },\r\n            uploadFile: (file) => { dispatch(uploadFile(file)) },\r\n            save:(file) => {dispatch(save(file))}\r\n        }\r\n    }\r\n)(Configurator)\r\n\r\n","export default __webpack_public_path__ + \"static/media/thumbtack.1faa366c.svg\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './top_frame.css'\r\nimport logo from '../../assets/leader_logo.png'\r\nimport thumbtack from '../../assets/thumbtack.svg'\r\nimport $ from 'jquery'\r\nimport { setFlagToggleCon ,setFlagthumbtack,getJson} from '../../redux/actions/funnel.action'\r\n\r\n\r\nfunction Top_frame(props) {\r\n\r\nconst change=()=>{\r\nconsole.log(\"lll\")\r\n\r\n$(\"#button\").css('background-color','blue')\r\n}\r\n    return (\r\n        <div id=\"top_frame\" className=\"row d-flex justify-content-between align-items-center mx-0\">\r\n            <a id=\"leader_logo\" href=\"https://lobby.leader.codes/\" className=\"d-flex\">\r\n                <img src={logo} id=\"img_logo\" class=\"m-auto\"></img>\r\n            </a>\r\n\r\n        {/* <button id=\"button\" onClick={()=>{change()}} className=\"red\">onClick</button> */}\r\n            <div className=\"mr-3\">\r\n                <img src={thumbtack} id=\"thumbtack\" className={props.thumbtack?\"rotateThumbtack\":\"\"} onClick={() => props.changeFlagThumbtack(!props.thumbtack)} />\r\n\r\n                <button id=\"menu2\" className=\"material-icons align-middle pl-2 pointer btn btn-simple\" onClick={!props.thumbtack && (() => props.changeFlagConfigurator(!props.flagCon))}>\r\n                    menu\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            flagCon: state.funnel.isOpenConfigurator,\r\n            thumbtack: state.funnel.thumbtack\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            changeFlagConfigurator: function (newFlag) {dispatch(setFlagToggleCon(newFlag))},\r\n            changeFlagThumbtack: function (newFlag) {dispatch(setFlagthumbtack(newFlag))},\r\n            getJson:()=>{dispatch(getJson())}\r\n        }\r\n    }\r\n)(Top_frame)\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './sidebar_left.css'  \r\n\r\nfunction Sidebar_left(props){\r\n    return(\r\n    <div id=\"sidebar_left\"></div>\r\n    )\r\n}\r\nexport default Sidebar_left\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './widget.css'\r\nimport { useDrag } from 'react-dnd'\r\nimport { ItemTypes } from '../../ItemTypes'\r\nimport { addElement } from '../../redux/actions/funnel.action'\r\nimport element from '../element/element';\r\nimport { setName } from '../../redux/actions/user.action';\r\n\r\n\r\nfunction Widget(props) {\r\n    const { numElement } = props\r\n    const [settings, setSettings] = useState({})\r\n    const [indexSection, setIndexSection] = useState()\r\n    const [indexPart, setIndexPart] = useState()\r\n    const [changePosition, setChangePosition] = useState()\r\n    const [name, setName] = useState()\r\n    const [valueWidget, setValueWidget] = useState({\r\n        Title: '<h1 style=\"text-align:center\">Title</h1>',\r\n        Text: '<p style=\"text-align:center\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. in fermentum risus felis non sapien. Pellentesque sed hendrerit eros. Vestibulum ac pulvinar diam, quis sodales arcu. Etiam nisl justo, consequat quis enim eget, ornare mollis erat.</p>',\r\n        Image: '',\r\n        // Video:'https://www.youtube.com/watch?v=Ke90Tje7VS0',\r\n        Video: '',\r\n        Forms: '',\r\n        Html:'',\r\n        Button:''\r\n    })\r\n    const [{ isDragging }, drag] = useDrag({\r\n        item: { name: props.name, type: ItemTypes.BOX },\r\n        collect: (monitor) => ({\r\n            isDragging: !!monitor.isDragging()\r\n\r\n        }),\r\n        end: async (item, monitor) => {\r\n            const dropResult = monitor.getDropResult();\r\n\r\n            if (item && dropResult) {\r\n                console.log(settings);\r\n                setName(item.name)\r\n                if (indexPart === dropResult.indexPart && indexSection === dropResult.indexSection)\r\n                    props.addElement(name, valueWidget[item.name], indexSection, indexPart, numElement)\r\n                else {\r\n                    setIndexPart(dropResult.indexPart)\r\n                    setIndexSection(dropResult.indexSection)\r\n                    setChangePosition(!changePosition)\r\n\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        // setSettings({tamar:\"cohjkds\"});\r\n        if (name) {\r\n\r\n            props.addElement(name, valueWidget[name], indexSection, indexPart, numElement)\r\n\r\n        }\r\n        // console.log('dd', settings)\r\n    }, [changePosition])\r\n\r\n    return (\r\n        <div ref={drag} className=\"d-flex pl-1 move\" >\r\n            <div className=\"newEelement col-1 d-flex justify-content-center p-1 px-3 my-3 \" >\r\n                <span class=\"material-icons\">\r\n                    {props.icon}\r\n                </span>\r\n\r\n            </div>\r\n            <div className=\"mt-3 ml-2 p\">\r\n                <p>{props.name}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            numElement: state.funnel.jsonPage.num_elements\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            addElement: function (newElement, value, section, part, numElement) {\r\n                dispatch(addElement({\r\n                    type: newElement, value:\r\n                        value, section: section, part: part, id: numElement\r\n                }))\r\n            },\r\n        }\r\n    },\r\n\r\n)(Widget)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './menu.css'\r\nimport { addSection, setFlagBorderParts, addElement } from '../../redux/actions/funnel.action'\r\nimport { useDrag } from 'react-dnd'\r\nimport { ItemTypes } from '../../ItemTypes'\r\nimport Widget from '../widget/widget'\r\n\r\n\r\n\r\nfunction Menu(props) {\r\n    const { flagBorderParts ,numSections} = props\r\n    function clickAddSection(numParts) {\r\n        let newSection = {\r\n            settings: {style:{backgroundColor: ''}},\r\n            arrParts: [],\r\n            id:numSections\r\n        }\r\n        for (let i = 0; i < numParts; i++) {\r\n            newSection.arrParts.push({\r\n                settings: {style: {}},\r\n                arrElements: [\r\n                    //     {type:\"title\",value:'sari'},{type:'text',value:'tehila'},{type:'image',value:'https://www.photo-art.co.il/wp-content/uploads/2015/07/BY1A5781.jpg'},{\r\n                    //     type:'video',value:'https://www.youtube.com/embed/sBws8MSXN7A'\r\n                    // },{type:'form',value:\" https://forms.leader.codes/view/tehila/my_form0\"}\r\n                ]\r\n            })\r\n        }\r\n\r\n\r\n        props.addSectioOnClick(newSection)\r\n    }\r\n\r\n    const [{ isDragging }, drag] = useDrag({\r\n        item: { type: ItemTypes.BOX },\r\n        collect: (monitor) => ({\r\n            isDragging: !!monitor.isDragging()\r\n        }),\r\n        end: (item, monitor) => {\r\n            const dropResult = monitor.getDropResult();\r\n            if (item && dropResult) {\r\n                alert(`You dropped ${item.type} into ${dropResult.name}!`);\r\n                props.addElement('title')\r\n            }\r\n        }\r\n    })\r\n    const opacity = isDragging ? 0.4 : 1;\r\n    return (\r\n        <div id=\"menu\" className=\"col-md-3 pr-0\">\r\n            <button className=\"btn col-md-12 my-2 p-0\" id=\"new_button\">\r\n                +\r\n                New\r\n            </button>\r\n            <div id=\"sections_select\" className=\"d-flex flex-column\">\r\n                <div className=\"form-check m-2\">\r\n                    <input type=\"checkbox\" className=\"form-check-input\" id=\"show_grid_checkbox\" onChange={() => props.changeFlagBorderPart(!flagBorderParts)} />\r\n                    <label className=\"form-check-label\" for=\"show_grid_checkbox\">Show Grid Line</label>\r\n                </div>\r\n                <div className=\"row justify-content-around no-gutters my-auto\">\r\n                    <div id=\"grid1\" className=\"col-2 grid_imgs m-1\" onClick={() => clickAddSection(1)}></div>\r\n                    <div id=\"grid2\" className=\"col-2 grid_imgs m-1\" onClick={() => clickAddSection(2)}></div>\r\n                    <div id=\"grid3\" className=\"col-2 grid_imgs m-1\" onClick={() => clickAddSection(3)}></div>\r\n                    <div id=\"grid4\" className=\"col-2 grid_imgs m-1\" onClick={() => clickAddSection(4)}></div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div id=\"elements_select\" className=\"my-2 p-2 pl-4\">\r\n                <strong>Widget</strong>\r\n                <Widget name=\"Title\" tagWidget=\"h1\" icon=\"title\"></Widget>\r\n                <Widget name=\"Text\" tagWidget=\"p\" icon=\"notes\"></Widget>\r\n                <Widget name=\"Image\" icon=\"crop_original\"></Widget>\r\n                <Widget name=\"Form\" icon=\"description\"></Widget>\r\n                <Widget name=\"Video\" icon=\"videocam\"></Widget>\r\n                <Widget name=\"Html\" icon=\"code\"></Widget>\r\n                <Widget name=\"Button\" icon=\"code\"></Widget>\r\n                \r\n\r\n\r\n                {/* <div className=\"d-flex\" onClick={() => props.addElement('text')} >\r\n                    <div className=\"newEelement col-1 d-flex justify-content-center p-1 px-3 my-3 \" >\r\n                        <span class=\"material-icons\">\r\n                            notes\r\n                     </span>\r\n\r\n                    </div>\r\n                    <div className=\"mt-3 ml-2 p\">\r\n                        <p>Text</p>\r\n                    </div> */}\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            flagBorderParts: state.funnel.borderPart,\r\n            numSections:state.funnel.jsonPage.num_sections\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            addSectioOnClick: function (newSection) { dispatch(addSection(newSection)) },\r\n            changeFlagBorderPart: function (newFlag) { dispatch(setFlagBorderParts(newFlag)) },\r\n            // addElement: function (newElement, part) { dispatch(addElement({ type: newElement, section: 1 })) },\r\n        }\r\n    },\r\n\r\n)(Menu)\r\n","import React, { useState } from 'react';\r\nimport Element from '../element/element'\r\nimport { connect } from 'react-redux';\r\nimport './part.css'\r\nimport { useDrop } from 'react-dnd';\r\nimport { ItemTypes } from '../../ItemTypes'\r\n\r\nfunction Part(props) {\r\n    const { part, flagBorder, indexPart, indexSection, numElement, editMode } = props\r\n    // const [drop, setdrop] = useState(undefined);\r\n\r\n    // const partStyle = {\r\n    //     //   backgroundColor:props.part.settings.bgColor,\r\n    //     height: \"100%\",\r\n\r\n\r\n    // }\r\n    // if (editMode) {\r\n        const [{ canDrop, isOver }, drop] = useDrop({\r\n\r\n            accept: ItemTypes.BOX,\r\n            drop: () => ({ name: 'Drop', indexSection: indexSection, indexPart: indexPart }),\r\n            collect: (monitor) => ({\r\n                isOver: monitor.isOver(),\r\n                canDrop: monitor.canDrop(),\r\n                ///////////////\r\n                //    elemntDrop:monitor.getClientOffset(),\r\n\r\n            }),\r\n        })\r\n    // }\r\n    // else {\r\n\r\n    //     console.log(drop);\r\n    // }        // console.log('options', {canDrop, isOver});\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div ref={drop} className={`p-2 ${flagBorder ? \"border_part\" : \"\"}`} style={part.settings.style, { height: '100%' }}>\r\n                {part.arrElements.length > 0 && part.arrElements.map((item, i) => {\r\n                    return (\r\n                        \r\n                        <Element key={i} currentKey={i} element={item} part={indexPart} section={indexSection} id={item.id} ></Element>\r\n                    )\r\n                }) ||\r\n               <> <div> <p className=\"text-center m-3\">ADD ELEMENTS</p></div></>}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            flagBorder: state.funnel.borderPart,\r\n            editMode: state.funnel.editMode\r\n\r\n        }\r\n    }\r\n)(Part)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Part from '../part/part'\r\nimport { removeSection, setCollapseOpen,sectionInEditing } from '../../redux/actions/funnel.action'\r\nimport './section.css'\r\n\r\nfunction Section(props) {\r\n    const { section, indexSection, removeSection, setCollapseOpen,sectionInEditing,editMode } = props\r\n    // const sectionStyle = {\r\n\r\n    //     minHeight:\"200px\"\r\n\r\n    // }\r\n    const editSection = () => {\r\n        sectionInEditing(indexSection)\r\n         setCollapseOpen('section')\r\n    }\r\n    return (\r\n        <>\r\n            <div className={editMode ?\"row no-gutters sectionToEdit\":\"row no-gutters\"}  style={section.settings.style}>\r\n               {editMode && <div className='edit_buttons_section'>\r\n                <div>\r\n                <span class=\"material-icons\" style={{ zIndex: 3,fontSize: '1.2rem' }} onClick={() => removeSection(indexSection)}>\r\n                    delete\r\n                </span>\r\n                </div>\r\n                <div>\r\n                <span class=\"material-icons\" style={{ zIndex: 4 ,fontSize: '1.2rem'}} onClick={() => editSection()} >\r\n                    create\r\n                    </span>\r\n                    </div></div>}\r\n                {props.section.arrParts.map((item, i) => {\r\n                    return (\r\n                        <div key={i} className={`col-md-${12 / props.section.arrParts.length} p-0`}>\r\n                            <Part part={item} indexSection={indexSection} indexPart={i}></Part></div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            editMode: state.funnel.editMode\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n\r\n            removeSection: function (indexSection) {\r\n                dispatch(removeSection(indexSection))\r\n            },\r\n            setCollapseOpen: function (collapse) { dispatch(setCollapseOpen(collapse)) },\r\n            sectionInEditing:(indexSection)=>{dispatch(sectionInEditing(indexSection))}\r\n        }\r\n    }\r\n)\r\n    (Section)\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './stage.css'\r\nimport Section from '../section/section'\r\nimport { chageEditMode, setJsonPage, setOrderSection } from '../../redux/actions/funnel.action'\r\nimport $ from \"jquery\";\r\nimport 'jquery-ui-bundle';\r\n\r\n\r\n\r\n\r\n\r\nfunction Stage(props) {\r\n    const { jsonPage, edit, chageEditMode, setJsonPage, editMode,setOrderSection } = props;\r\n    const [flag, setFlag] = useState(true);\r\n    useEffect(() => {\r\n        chageEditMode(edit)\r\n        if (!editMode && flag) {\r\n            setFlag(false)\r\n            let json = localStorage.getItem(\"json\")\r\n            console.log(JSON.parse(json))\r\n            setJsonPage(JSON.parse(json))\r\n        }\r\n\r\n    })\r\n    // $(\"#sortable\").sortable({\r\n    //     stop: function (event, ui) {\r\n    //         var prev = $(ui.item).prev('div.ui-state-default').attr('data-id');\r\n    //         var next = $(ui.item).next('div.ui-state-default').attr('section-id');\r\n    //         console.log('prev = '+prev+ ' '+$(ui.item).attr('data-id')+' next = '+next);\r\n    //         setOrderSection(next,$(ui.item).attr('section-id'))\r\n    //     }\r\n    // })\r\n\r\n    const pageStyle = {\r\n        // color:jsonPage.settings.color,\r\n        // backgroundColor:jsonPage.settings.bgColor\r\n    }\r\n    return (\r\n        <>\r\n        <div id=\"stage\" className={editMode ?\"col-md-9 d-flex p-0 m-auto\":\"col-md-12 d-flex p-0 \"}>\r\n                <div id=\"landingPage_edit\" className={editMode ? \"m-auto border_page \" : \"col-md-12\"} style={jsonPage.settings.style}>\r\n                    <div id='sortable'></div>\r\n                {jsonPage.arrSections.length == 0 && < div className=\" d-flex justify-content-center \">\r\n                  \r\n                {/* <img className=\"image\" src=\"https://www.photo-art.co.il/wp-content/uploads/2015/07/BY1A5781.jpg\" style={{resizeMode:'contain'}} /> */}\r\n                \r\n                    <h2 id=\"whenIsEmpty\" className=\"col-md-9 mt-5 p-4\">Drag an element into content</h2>\r\n                  \r\n                </div>\r\n                }\r\n                {props.jsonPage.arrSections.map((item, i) => {\r\n                    return (\r\n\r\n\r\n                                <div key={i} className=\"ui-state-default\" section-id={item.id} data-id={i}>\r\n                                    <Section section={item} indexSection={i}></Section></div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n        </>\r\n    )\r\n}\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            jsonPage: state.funnel.jsonPage,\r\n            editMode: state.funnel.editMode\r\n\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            setJsonPage: (json) => { dispatch(setJsonPage(json)) },\r\n            chageEditMode: (edit) => { dispatch(chageEditMode(edit)) },\r\n            setOrderSection:(newI,oldI)=>{dispatch(setOrderSection(newI,oldI))}\r\n        }\r\n    }\r\n)(Stage)\r\n","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setHrefButton } from '../../redux/actions/funnel.action'\r\nimport './itemInAllFunnels.css'\r\nfunction ItemInAllFunnels(props) {\r\n    const { item ,nameUser,urlPage} = props\r\n    const [bgImg,setBgImg]=useState(JSON.parse(item.json).image_funnel)\r\n    const openSelectedFunnel=()=>{\r\n        window.open(`${urlPage}/${nameUser}/${item.name}`)\r\n    }\r\n    return (\r\n        <>\r\n\r\n            <div className=\"card cardItemInAllFunnels col-md-3 mb-3 text-center px-3\" name=\"0\" onClick={()=>openSelectedFunnel()}>\r\n                <div className=\"card-body element\" style={{backgroundImage:`url(${bgImg})`}}>\r\n                    <h5 class=\"card-title\"></h5>\r\n                </div>\r\n                <div className=\"card-footer text-muted font-weight-bold\">\r\n                    {item.name}\r\n                </div>\r\n            </div>\r\n\r\n\r\n            {/* <div className=\"card cardItemInAllFunnels col-md-3 mb-3 text-center\">\r\n<div  className=\"itemInAllFunnels\"> {item.name}</div>\r\n           </div> */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            nameUser: state.user.userName,\r\n            urlPage:state.funnel.urlPage\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            // setHrefButton:(newValue)=>{dispatch(setHrefButton({value:newValue}))}\r\n        }\r\n    }\r\n)(ItemInAllFunnels)","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setHrefButton } from '../../redux/actions/funnel.action'\r\nimport ItemInAllFunnels from '../itemIInAllFunnels/itemInAllFunnels';\r\nimport './allFunnels.css'\r\nfunction AllFunnels(props) {\r\n    const { allFunnels } = props\r\n    return (\r\n        <>\r\n            <div id='divAllFunnels'className='row no-gutters py-3'>\r\n                {allFunnels.map((item, i) => {\r\n                    return (\r\n                        <>\r\n                            <ItemInAllFunnels item={item}></ItemInAllFunnels>\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => {\r\n        return {\r\n            allFunnels: state.funnel.allFunnels\r\n        }\r\n    },\r\n    (dispatch) => {\r\n        return {\r\n            // setHrefButton:(newValue)=>{dispatch(setHrefButton({value:newValue}))}\r\n        }\r\n    }\r\n)(AllFunnels)","import logo from './logo.svg';\r\nimport './App.css';\r\nimport Ex from './components/ex'\r\nimport Configurator from './components/configurator/configurator';\r\nimport Top_frame from './components/top_frame/top_frame';\r\nimport Sidebar_left from './components/sidebar_left/sidebar_left';\r\nimport Menu from './components/menu/menu';\r\nimport Stage from './components/stage/stage';\r\nimport AllFunnels from './components/allFunnels/allFunnels'\r\nimport React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { DndProvider } from 'react-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport { getFunnel, getUid ,getAllFunnel} from './redux/actions/funnel.action';\r\n\r\n\r\n\r\n\r\nfunction App(props) {\r\n  const [flag, setFlag] = useState(true);\r\n\r\n  const { flagCon, getFunnel,flagAllFunnels ,editMode} = props\r\n  const { getUid } = props\r\n  useEffect(() => {\r\n    if (flag) {\r\n      getUid()\r\n      // getFunnel()\r\n      // getAllFunnel()\r\n      setFlag(false)\r\n    }\r\n  })\r\n  return (\r\n\r\n\r\n    <div id=\"body\" className=\"App\">\r\n      <Router>\r\n        <DndProvider backend={HTML5Backend}>\r\n\r\n          <Switch>\r\n            <Router path='/view'>\r\n              <div style={{ minHeight: '100vh' }}>\r\n                <Stage edit={false}></Stage>\r\n              </div>\r\n            </Router>\r\n            <Router path='/'>\r\n              {/* <Ex></Ex> */}\r\n              <Configurator></Configurator>\r\n              <Top_frame></Top_frame>\r\n              <Sidebar_left></Sidebar_left>\r\n              <div id=\"wrap_center\" className={flagCon ? \"center_width_on_open_con row\" : \"center_width_on_close_con row\" } >\r\n                {!flagAllFunnels ? <><Menu></Menu>\r\n                  <Stage edit={true}></Stage></> :\r\n                  <AllFunnels></AllFunnels>}\r\n              </div>\r\n            </Router>\r\n\r\n          </Switch>\r\n        </DndProvider>\r\n\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  (state) => {\r\n    return {\r\n      flagCon: state.funnel.isOpenConfigurator,\r\n      flagAllFunnels: state.funnel.isOpenAllFunnels,\r\n      editMode: state.funnel.editMode\r\n\r\n    }\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      getUid: () => { dispatch(getUid()) },\r\n      getFunnel: () => { dispatch(getFunnel()) },\r\n      getAllFunnel: () => { dispatch(getAllFunnel()) },\r\n\r\n    }\r\n  }\r\n)(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\nimport produce from 'immer'\r\n\r\nconst initialState = {\r\n    userName:window.location.pathname.split('/')[1],\r\n    userId:''\r\n}\r\n\r\nexport default produce((state = initialState, action) => {\r\n    switch (action.type) {\r\n        case '[user] SET_USER_ID':\r\n            state.userId=action.payload\r\n        default:\r\n            return state\r\n    }\r\n})","\r\n\r\nimport { SET_IS_OPEN_CON, SET_THUMBTACK, SET_COLLAPSE_OPEN, SET_JSON_PAGE, SET_STYLE_PAGE, SET_OPACITY_PAGE, REMOVE_SECTION,SET_STYLE_IMAGE, ADD_SECTION, SET_BORDER_PARTS, CHANGE_EDIT_MODE, ADD_ELEMENT, SET_VALUE_ELEMENT, MOVE_ELEMENT_IN_PART, REMOVE_ELEMENT, ELEMENT_IN_EDITING } from '../actions/funnel.action'\r\nimport produce from 'immer'\r\nimport { act } from 'react-dom/test-utils'\r\n\r\nconst initialState = {\r\n    // urlPage:'http://localhost:3000',\r\n    urlPage:'http://funnel.dev.leader.codes/',\r\n\r\n    elementInEditing: {},\r\n    indexSectionInEditing: '',\r\n    isOpenConfigurator: true,\r\n    thumbtack: false,\r\n    borderPart: false,\r\n    isOpenAllFunnels: false,\r\n    editMode: true,\r\n    collapseIsOpen: '',\r\n    // num_elements: 0,\r\n    name: window.location.pathname.split('/')[2],\r\n    allFunnels: [],\r\n    idFunnel: '',\r\n    jsonPage: {\r\n        num_elements: 0,\r\n        num_sections: 0,\r\n        image_funnel:'',\r\n        settings: {\r\n            style: { color: '', backgroundColor: 'rgba(255,255,255,0.99)', opacity: '0.99' }\r\n            , opacity: '0.99'\r\n        },\r\n        arrSections: [\r\n            // {\r\n            //     settings: { backgroundColor: 'blue' },\r\n            //     arrParts: [\r\n            //         {\r\n            //             settings: { backgroundColor: 'white' },\r\n            //             arrElements: [\r\n            //                 {\r\n            //                     settings: { type: 'text' }\r\n            //                 },\r\n            //                 {\r\n            //                     settings: { type: 'title' }\r\n            //                 }\r\n            //             ]\r\n            //         },\r\n            //         {\r\n            //             settings: { backgroundColor: 'red' },\r\n            //             arrElements: [\r\n            //                 {\r\n            //                     settings: { type: 'text' }\r\n            //                 },\r\n            //                 {\r\n            //                     settings: { type: 'title' }\r\n            //                 }\r\n            //             ]\r\n            //         },\r\n            //         {\r\n            //             settings: { bgColor: 'gray' },\r\n            //             arrElements: [\r\n            //                 {\r\n            //                     settings: { type: 'text' }\r\n            //                 },\r\n            //                 {\r\n            //                     settings: { type: 'title' }\r\n            //                 }\r\n            //             ]\r\n            //         }]\r\n            // },\r\n            // {\r\n            //     settings: { bgColor: 'black' },\r\n            //     arrParts: [\r\n            //         {\r\n            //             settings: { bgColor: 'green' },\r\n            //             arrElements: [\r\n            //                 {\r\n            //                     settings: { type: 'text' }\r\n            //                 },\r\n            //                 {\r\n            //                     settings: { type: 'title' }\r\n            //                 }\r\n            //             ]\r\n            //         }]\r\n            // }\r\n        ]\r\n    }\r\n    // jsonPage: {\r\n    //     settings: {},\r\n    //     arrSections: [{\r\n    //         settings: {},\r\n    //         arrParts: [{\r\n    //             settings: {},\r\n    //             arrElements: [{ settings: {} }]\r\n    //         }]\r\n    //     }]\r\n\r\n    // }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n// function findElementById(idElement){\r\n\r\n//     initialState.jsonPage.arrSections.map((item, a) => {\r\n//         item.arrParts.map((item, b) => {\r\n//             item.arrElements.map((item, c) => {\r\n//                 if (item.id == idElement) {\r\n//                    return item\r\n//                 }\r\n//             })\r\n//         })\r\n//     })\r\n// }\r\nexport default produce((state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_IS_OPEN_CON:\r\n            return { ...state, isOpenConfigurator: action.payload }\r\n        case SET_THUMBTACK:\r\n            // return { ...state, thumbtack: action.payload }\r\n            state.thumbtack = action.payload\r\n            return state\r\n        case ADD_SECTION:\r\n            // state.jsonPage = state.jsonPage.arrSections.concat(action.payload)\r\n            // return {...state}\r\n\r\n            // return{...state,\r\n            //     arrSections: [...state.jsonPage.arrSections, action.payload]}\r\n            state.jsonPage.arrSections.push(action.payload)\r\n            state.jsonPage.num_sections++\r\n\r\n            return state\r\n        case SET_BORDER_PARTS: {\r\n            return { ...state, borderPart: action.payload }\r\n        }\r\n        case ADD_ELEMENT: {\r\n            const newElement = { type: action.payload.type, value: action.payload.value, settings: {}, id: action.payload.id }\r\n            state.jsonPage.arrSections[action.payload.section].arrParts[action.payload.part].arrElements.push(newElement)\r\n            state.elementInEditing = newElement;\r\n            state.collapseIsOpen = \"element\"\r\n            state.jsonPage.num_elements++\r\n\r\n            // state.editinigElement = true\r\n\r\n            return state\r\n        }\r\n        case SET_VALUE_ELEMENT: {\r\n            // if()\r\n            state.elementInEditing.value = action.payload.value\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n                        if (item.id == state.elementInEditing.id) {\r\n                            item.value = action.payload.value\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            return state\r\n        }\r\n        case MOVE_ELEMENT_IN_PART: {\r\n\r\n            // let a= state.jsonPage.arrSections[0].arrParts[0].arrElements;\r\n            // state.jsonPage.arrSections[0].arrParts[0].arrElements.splice(2, 0,state.jsonPage.arrSections[0].arrParts[0].arrElements.splice(2,1)[0] );\r\n            // // state.jsonPage.arrSections[0].arrParts[0].arrElements=a\r\n            // const components = prevState.components.slice(0);\r\n            // components.splice(0, 0, element);\r\n            // return { components };\r\n            let a = state.jsonPage.arrSections[0].arrParts[0].arrElements.splice(action.payload.dragIndex, 1)\r\n            state.jsonPage.arrSections[0].arrParts[0].arrElements.splice(action.payload.hoverIndex, 0, a[0])\r\n            return state\r\n        }\r\n        case ELEMENT_IN_EDITING: {\r\n            console.log(action.payload.id)\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n                        if (item.id == action.payload.id) {\r\n                            state.elementInEditing = item\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            // state.elementInEditing = findElementById(action.payload.id)\r\n            state.editinigElement = true\r\n            return state\r\n        }\r\n        case '[funnel] SECTION_IN_EDITING': {\r\n            console.log(action.payload.id)\r\n            state.indexSectionInEditing = action.payload\r\n            return state\r\n        }\r\n        case REMOVE_SECTION:\r\n            state.jsonPage.arrSections.splice(action.payload, 1)\r\n            return state\r\n\r\n        case SET_COLLAPSE_OPEN:\r\n            state.collapseIsOpen = action.collapse\r\n            console.log(action.collapse)\r\n            if (action.collapse === \"element\") {\r\n                state.jsonPage.arrSections.map((item, a) => {\r\n                    item.arrParts.map((item, b) => {\r\n                        item.arrElements.map((item, c) => {\r\n                            if (item.id == action.id) {\r\n                                state.elementInEditing = item\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n            return state\r\n        case REMOVE_ELEMENT:\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n\r\n                        if (item.id == action.payload.id) {\r\n\r\n                            state.jsonPage.arrSections[a].arrParts[b].arrElements.splice(c, 1)\r\n                        }\r\n                    })\r\n\r\n\r\n                })\r\n            })\r\n            return state\r\n        case CHANGE_EDIT_MODE:\r\n            state.editMode = action.payload\r\n            return state\r\n\r\n        case SET_JSON_PAGE:\r\n            state.jsonPage = action.payload\r\n            return state\r\n        case SET_OPACITY_PAGE:\r\n            state.jsonPage.settings.opacity = action.payload\r\n            return state\r\n        case SET_OPACITY_PAGE:\r\n            state.jsonPage.settings.opacity = action.payload\r\n            return state\r\n        case SET_STYLE_PAGE:\r\n            state.jsonPage.settings.style[action.payload.property] = action.payload.value\r\n            return state\r\n        case '[funnel] SET_NAME_PAGE':\r\n            state.name = action.payload\r\n            return state\r\n        case '[funnel] SET_ID_FUNNEL':\r\n            state.idFunnel = action.payload\r\n            return state\r\n        case '[funnel] SET_HREF_BUTTON':\r\n            state.elementInEditing.value = action.payload.value\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n                        if (item.id == state.elementInEditing.id) {\r\n                            item.href = action.payload.value\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            return state\r\n            case '[funnel] SET_STYLE_IMAGE':  \r\n            // state.jsonPage.settings.style[action.payload.property] = action.payload.value    \r\n             state.elementInEditing.settings[action.payload.property] = action.payload.value\r\n            state.jsonPage.arrSections.map((item, a) => {\r\n                item.arrParts.map((item, b) => {\r\n                    item.arrElements.map((item, c) => {\r\n                        if (item.id == state.elementInEditing.id) {\r\n                            item.settings[action.payload.property] = action.payload.value\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            return state\r\n\r\n        case '[funnel] SET_ALL_FUNNELS':\r\n            state.allFunnels = action.payload\r\n            return state\r\n        case '[funnel] SET_FLAG_ALL_FUNNELS':\r\n            state.isOpenAllFunnels = !state.isOpenAllFunnels\r\n            return state\r\n        case '[funnel] SET_STYLE_SECTION':\r\n            state.jsonPage.arrSections[action.payload.indexSection].settings.style[action.payload.property] = action.payload.value\r\n            return state\r\n        case '[funnel] SET_IMAGE_FILE':\r\n            state.jsonPage.image_funnel = action.payload\r\n            return state;\r\n        case '[funnel] SET_ORDER_SECTION':\r\n\r\n        let a=state.jsonPage.arrSections.indexOf( state.jsonPage.arrSections.find(x => `${x.id}`===action.old_index))\r\n        let b=action.new_index?state.jsonPage.arrSections.indexOf( state.jsonPage.arrSections.find(x => `${x.id}`===action.new_index)):undefined\r\n            if (b >= state.jsonPage.arrSections.length) {\r\n                var k = b - state.jsonPage.arrSections.length + 1;\r\n                while (k--) {\r\n                    state.jsonPage.arrSections.push(undefined);\r\n                }\r\n            }\r\n            state.jsonPage.arrSections.splice(b-1, 0, state.jsonPage.arrSections.splice(a, 1)[0]);\r\n            return state; // for testing\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n\r\n})","import { createStore ,applyMiddleware,combineReducers} from 'redux';\r\nimport { produce } from 'immer'\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n// import reducer from './reducers/index'\r\nimport ReduxThunk from 'redux-thunk' \r\nimport {getFromServer,uploadImage,creatFunnel,getAllFunnelByUserId,getUidByUserName,getFunnelByName,updateFunnel,removeFunnel,uploadFile,saveOrUpdate} from './middleware/crud'\r\nimport userReducer from './reducers/user.reducer'\r\nimport funnelReducer from './reducers/funnel.reducer'\r\n\r\n\r\nconst reducer=combineReducers({\r\n    user: userReducer,\r\n    funnel: funnelReducer,\r\n   \r\n    \r\n})\r\nconst store = createStore(\r\n    reducer,composeWithDevTools(\r\n        applyMiddleware(\r\n            getFromServer,\r\n            creatFunnel,\r\n            getAllFunnelByUserId,\r\n            getUidByUserName,\r\n            getFunnelByName,\r\n            updateFunnel,\r\n            removeFunnel,\r\n            uploadFile,\r\n            saveOrUpdate\r\n            // uploadImage\r\n        ),\r\n    )\r\n)\r\nwindow.store=store\r\nexport default store;\r\n\r\n\r\n","import $, { error } from \"jquery\";\r\n\r\n\r\nexport const saveOrUpdate = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[funnel] SAVE_OR_UPDATE') {\r\n        dispatch({ type: '[funnel] UPLOAD_FILE', payload: action.payload }).then((res) => {\r\n            if (getState().funnel.idFunnel)\r\n                dispatch({ type: '[funnel] UPDATE_FUNNEL' })\r\n            else\r\n                dispatch({ type: '[funnel] CREAT_FUNNEL' })\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const getFromServer = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === 'GET_JSON')\r\n        $.ajax({\r\n            url: 'https://randomuser.me/api/?results=10&seed=abc',\r\n            type: 'GET',\r\n            success: function (data) {\r\n                console.log(data);\r\n            }\r\n        })\r\n    return next(action)\r\n}\r\nexport const creatFunnel = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[funnel] CREAT_FUNNEL') {\r\n        console.log(getState().funnel.jsonPage);\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/${getState().user.userId}`,\r\n            type: 'POST',\r\n            data: { 'name': getState().funnel.name, json: JSON.stringify(getState().funnel.jsonPage) },\r\n            success: function (data) {\r\n                console.log(data);\r\n            },\r\n            error: function (err) {\r\n                console.log();\r\n                alert(JSON.parse(err.responseText).message)\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n\r\n}\r\nexport const updateFunnel = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[funnel] UPDATE_FUNNEL') {\r\n        console.log(getState().funnel.jsonPage);\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/updateFunnel/${getState().user.userId}/${getState().funnel.idFunnel}`,\r\n            type: 'POST',\r\n            data: { name: getState().funnel.name, json: JSON.stringify(getState().funnel.jsonPage) },\r\n            success: function (data) {\r\n                console.log(data);\r\n            },\r\n            error: function (err) {\r\n                console.log();\r\n                alert(JSON.parse(err.responseText).message)\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\nexport const getAllFunnelByUserId = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[funnel] GET_ALL_FUNNELS') {\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/${getState().user.userId}`,\r\n            type: 'GET',\r\n            success: function (data) {\r\n                console.log(data);\r\n                dispatch({ type: '[funnel] SET_ALL_FUNNELS', payload: data.result })\r\n            },\r\n            error: function (err) {\r\n                console.log(err);\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\nexport const getUidByUserName = ({ dispatch, getState }) => next => action => {\r\n    if (action.type === '[user] GET_UID_BY_USER_NAME') {\r\n        // let url = window.location;\r\n        // let userName = url.pathname.split('/')[1]\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/getuser/${getState().user.userName}`,\r\n            type: 'GET',\r\n            success: function (data) {\r\n                console.log(data);\r\n                let newUid = data.uid;\r\n                dispatch({ type: '[user] SET_USER_ID', payload: newUid })\r\n                if (getState().funnel.name !== 'new')\r\n                    dispatch({ type: '[user] GET_FUNNEL', payload: newUid })\r\n\r\n            },\r\n            error: function (err) {\r\n                console.log(err);\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n\r\n}\r\nexport const getFunnelByName = ({ dispatch, getState }) => next => action => {\r\n\r\n    if (action.type === '[user] GET_FUNNEL') {\r\n        const uid = getState().user.userId ? getState().user.userId : action.payload\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/${uid}/${getState().funnel.name}`,\r\n            type: 'GET',\r\n            success: function (data) {\r\n                console.log(data);\r\n                if (data.result) {\r\n                    console.log(JSON.parse(data.result.json));\r\n                    console.log(data.result._id);\r\n                    dispatch({ type: '[funnel] SET_ID_FUNNEL', payload: data.result._id })\r\n                    dispatch({ type: '[funnel] SET_JSON_PAGE', payload: JSON.parse(data.result.json) })\r\n                }\r\n                else {\r\n                    alert('Page not found')\r\n                    window.location.href = `${getState().funnel.urlPage}/${getState().user.userName}/new`\r\n                }\r\n            },\r\n            error: function (err) {\r\n                console.log(err);\r\n\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n\r\n}\r\nexport const removeFunnel = ({ dispatch, getState }) => next => action => {\r\n\r\n    if (action.type === '[funnel] REMOVE_FUNNEL') {\r\n        $.ajax({\r\n            url: `https://funnel.dev.leader.codes/api/removeFunnel/${action.payload}`,\r\n            type: 'DELETE',\r\n            success: function (data) {\r\n                console.log(data);\r\n            },\r\n            error: function (err) {\r\n                console.log(err);\r\n            }\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\nexport const uploadFile = ({ dispatch, getState }) => next => action => {\r\n    return new Promise((resolve, reject) => {\r\n        if (action.type === '[funnel] UPLOAD_FILE') {\r\n            const fil = action.payload\r\n            console.log(fil);\r\n            const myFile = new FormData()\r\n            myFile.append(\"file\", action.payload)\r\n            $.ajax({\r\n                url: `https://funnel.dev.leader.codes/api/uploadFile/${getState().user.userId}/${getState().user.userName}`,\r\n                type: 'POST',\r\n                data: myFile,\r\n                contentType: false,\r\n                processData: false,\r\n                headers: {\r\n                    Authorization: 'view'\r\n                },\r\n                success: function (data) {\r\n                    console.log(data);\r\n                    dispatch({ type: '[funnel] SET_IMAGE_FILE', payload: data })\r\n                    resolve(data)\r\n                },\r\n                error: function (err) {\r\n                    console.log(err);\r\n                    reject(err)\r\n                }\r\n            })\r\n        }\r\n        return next(action)\r\n    })\r\n}\r\n// export const uploadImage = ({ dispatch, getState }) => next => action => {\r\n//     return new Promise((resolve, reject) => {\r\n//     if (action.type === '[funnel] UPLOAD_IMAGE')\r\n//     console.log(action.payload.get('file'))\r\n//     $.ajax({\r\n//         type: \"POST\",\r\n//         url: \"https://files.leader.codes/api/\" + \"WzM020nw4TgcAo1XIyl94g0Z0152\" + \"/upload\",\r\n//         headers:  {\r\n//             Authorization: 'view'\r\n//           },\r\n\r\n//         data: action.payload,\r\n//         processData: false,\r\n//         contentType: false,\r\n//         success: function (data) {\r\n//             console.log(data);\r\n//             // return data.data.url\r\n//             resolve(data.data.url)\r\n//         },\r\n//         error: function (err) {\r\n//             alert(err);\r\n//             // return false\r\n//             resolve(false)\r\n//         },\r\n\r\n//     });\r\n\r\n//         return next(action)\r\n// })\r\n// }\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport store from './redux/store'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}